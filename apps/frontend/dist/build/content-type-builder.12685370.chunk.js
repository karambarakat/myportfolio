(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[8880],{66848:(te,ee,i)=>{"use strict";i.d(ee,{Z:()=>Yt});var a=i(67294),y=i(71893),I=i(45697),h=i.n(I),v=i(35961),Y=i(85038),U=Object.defineProperty,M=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,b=(A,T,C)=>T in A?U(A,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):A[T]=C,X=(A,T)=>{for(var C in T||(T={}))D.call(T,C)&&b(A,C,T[C]);if(M)for(var C of M(T))r.call(T,C)&&b(A,C,T[C]);return A};function ne(A){return a.createElement("svg",X({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),a.createElement("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082zM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782z",fill:"#fff"}))}var G=i(34668),H=i(14484),J=i(65531),ye=i(73145),ie=i(82574),Fe=i(60133),x=Object.defineProperty,d=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable,k=(A,T,C)=>T in A?x(A,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):A[T]=C,Qe=(A,T)=>{for(var C in T||(T={}))j.call(T,C)&&k(A,C,T[C]);if(d)for(var C of d(T))re.call(T,C)&&k(A,C,T[C]);return A};function _e(A){return a.createElement("svg",Qe({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 00-.138-.302A.465.465 0 0018.82 8h-8.357a.465.465 0 00-.326.127.397.397 0 00-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 00.327-.127.397.397 0 00.138-.301zm2.785 2.713v.857a.397.397 0 01-.137.301.465.465 0 01-.327.128H10.464a.465.465 0 01-.326-.128.397.397 0 01-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 01.326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 01.137.302zm-1.857 3.574v.857a.397.397 0 01-.137.302.465.465 0 01-.327.127h-9.286a.465.465 0 01-.326-.127.397.397 0 01-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 01.326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 01.138.301z",fill:"#0C75AF"}))}var it=i(74525),ct=Object.defineProperty,pt=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,se=(A,T,C)=>T in A?ct(A,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):A[T]=C,ft=(A,T)=>{for(var C in T||(T={}))et.call(T,C)&&se(A,C,T[C]);if(pt)for(var C of pt(T))Q.call(T,C)&&se(A,C,T[C]);return A};function Dt(A){return a.createElement("svg",ft({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A),a.createElement("path",{d:"M.5 3A2.5 2.5 0 013 .5h26A2.5 2.5 0 0131.5 3v18a2.5 2.5 0 01-2.5 2.5H3A2.5 2.5 0 01.5 21V3z",fill:"#FDF4DC",stroke:"#FAE7B9"}),a.createElement("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 012.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 00.433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 00-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887z",fill:"#D9822F"}))}var St=i(48394),It=Object.defineProperty,gt=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,fe=(A,T,C)=>T in A?It(A,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):A[T]=C,Z=(A,T)=>{for(var C in T||(T={}))st.call(T,C)&&fe(A,C,T[C]);if(gt)for(var C of gt(T))$e.call(T,C)&&fe(A,C,T[C]);return A};function K(A){return a.createElement("svg",Z({width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A),a.createElement("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),a.createElement("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71zM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781z",fill:"#fff"}))}var oe=i(21210),Re=i(3963),Ee=i(31666),At=i(68547),Be=Object.defineProperty,Ft=Object.defineProperties,de=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable,tt=(A,T,C)=>T in A?Be(A,T,{enumerable:!0,configurable:!0,writable:!0,value:C}):A[T]=C,Zt=(A,T)=>{for(var C in T||(T={}))Ve.call(T,C)&&tt(A,C,T[C]);if(yt)for(var C of yt(T))vt.call(T,C)&&tt(A,C,T[C]);return A},bt=(A,T)=>Ft(A,de(T)),Le=(A,T)=>{var C={};for(var Ie in A)Ve.call(A,Ie)&&T.indexOf(Ie)<0&&(C[Ie]=A[Ie]);if(A!=null&&yt)for(var Ie of yt(A))T.indexOf(Ie)<0&&vt.call(A,Ie)&&(C[Ie]=A[Ie]);return C};const jt={biginteger:Ee.Z,boolean:H.Z,collectionType:ne,component:Y.Z,contentType:ne,date:G.Z,datetime:G.Z,decimal:Ee.Z,dynamiczone:J.Z,email:ye.Z,enum:ie.Z,enumeration:ie.Z,file:it.Z,files:it.Z,float:Ee.Z,integer:Ee.Z,json:Fe.Z,JSON:Fe.Z,media:it.Z,number:Ee.Z,password:Dt,relation:St.Z,richtext:_e,singleType:K,string:oe.Z,text:oe.Z,time:G.Z,timestamp:G.Z,uid:Re.Z},wt=(0,y.default)(v.x)`
  width: ${(0,At.pxToRem)(32)};
  height: ${(0,At.pxToRem)(24)};
  box-sizing: content-box;
`,lt=A=>{var T=A,{type:C,customField:Ie}=T,Jt=Le(T,["type","customField"]);const Se=(0,At.useCustomFields)();let ht=jt[C];if(Ie){const{icon:$t}=Se.get(Ie);$t&&(ht=$t)}return jt[C]?a.createElement(wt,bt(Zt({as:ht},Jt),{"aria-hidden":!0})):null};lt.defaultProps={customField:null},lt.propTypes={type:h().string.isRequired,customField:h().string};const Yt=lt},7955:(te,ee,i)=>{"use strict";i.d(ee,{Z:()=>I});var a=i(67294);const I=(0,a.createContext)()},98422:(te,ee,i)=>{"use strict";i.d(ee,{Z:()=>I});var a=i(67294);const I=(0,a.createContext)()},13588:(te,ee,i)=>{"use strict";i.d(ee,{Z:()=>h});var a=i(67294),y=i(7955);const h=()=>(0,a.useContext)(y.Z)},26478:(te,ee,i)=>{"use strict";i.d(ee,{Z:()=>h});var a=i(67294),y=i(98422);const h=()=>(0,a.useContext)(y.Z)},87863:(te,ee,i)=>{"use strict";i.r(ee),i.d(ee,{default:()=>Nd});var a=i(67294),y=i(49656),I=i(15482),h=i(97132),v=i(68547),Y=i(17034),U=i(57176),M=i(96124),D=i(45697),r=i.n(D),b=i(96486),X=i(37424),ne=i(35281),G=i(7955),H=i(26478),J=i(78648),ye=(e,t,n)=>new Promise((o,s)=>{var l=m=>{try{c(n.next(m))}catch(g){s(g)}},u=m=>{try{c(n.throw(m))}catch(g){s(g)}},c=m=>m.done?o(m.value):Promise.resolve(m.value).then(l,u);c((n=n.apply(e,t)).next())});const ie=J.Z.create({baseURL:`/${M.Z}`});ie.interceptors.request.use(e=>ye(void 0,null,function*(){return e.headers={Authorization:`Bearer ${v.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e}),e=>{Promise.reject(e)}),ie.interceptors.response.use(e=>e,e=>{var t;throw((t=e.response)==null?void 0:t.status)===401&&(v.auth.clearAppStorage(),window.location.reload()),e});const x=(0,v.wrapAxiosInstance)(ie);var d=i(5002),j=i(85169),re=i(27361),k=i.n(re),Qe=i(18721),_e=i.n(Qe),it=i(36968),ct=i.n(it),pt=i(7334),et=i.n(pt),Q=i(35961),se=i(29728),ft=i(70004),Dt=i(42866),St=i(59946),It=i(36856),gt=i(82777),st=i(60633),$e=i(42761),fe=i(46273),Z=i(7681),K=i(13588),oe=i(38953),Re=i(11700),Ee=i.n(Re);const At=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],Be=({intlLabel:e,name:t,onChange:n,value:o})=>{const{formatMessage:s}=(0,h.useIntl)(),l=o===null||o.length===0?s({id:"global.none",defaultMessage:"None"}):[...o].sort().map(c=>Ee()(c)).join(", "),u=e.id?s({id:e.id,defaultMessage:e.defaultMessage}):t;return a.createElement(oe.Q,{id:"select1",label:u,customizeContent:()=>l,onChange:c=>{c.length>0?n({target:{name:t,value:c,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:At,value:o||[]})};Be.defaultProps={value:null},Be.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().object,r().array])};const Ft=Be;var de=i(72735);const Ve=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var vt=i(11276),tt=i(74571),Zt=i(17373),bt=i(66848),Le=i(71893);const wt=(0,Le.default)(Q.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,lt=({type:e})=>{const{formatMessage:t}=(0,h.useIntl)(),{onClickSelectField:n}=(0,H.Z)(),o=()=>{n({attributeType:e,step:e==="component"?"1":null})};return a.createElement(wt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:o},a.createElement(fe.k,null,a.createElement(bt.Z,{type:e}),a.createElement(Q.x,{paddingLeft:4},a.createElement(fe.k,null,a.createElement(de.Z,{fontWeight:"bold"},t({id:(0,d.Z)(`attribute.${e}`),defaultMessage:e}))),a.createElement(fe.k,null,a.createElement(de.Z,{variant:"pi",textColor:"neutral600"},t({id:(0,d.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};lt.defaultProps={type:"text"},lt.propTypes={type:r().string};const Yt=lt,T=e=>{const t=e%2===1;return{paddingLeft:t?2:0,paddingRight:t?0:2}},C=({attributes:e})=>a.createElement(Zt.k,{tagName:"button"},a.createElement(Z.K,{spacing:8},e.map((t,n)=>a.createElement(vt.r,{key:n,gap:0},t.map((o,s)=>{const{paddingLeft:l,paddingRight:u}=T(s);return a.createElement(tt.P,{key:o,col:6,style:{height:"100%"}},a.createElement(Q.x,{paddingLeft:l,paddingRight:u,paddingBottom:1,style:{height:"100%"}},a.createElement(Yt,{type:o})))})))));C.propTypes={attributes:r().array.isRequired};const Ie=C;var Jt=i(23620),Se=i(92577),ht=i(78474),$t=i(21817),xn=Object.defineProperty,Ke=Object.defineProperties,rn=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,Nt=(e,t,n)=>t in e?xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t)=>{for(var n in t||(t={}))on.call(t,n)&&Nt(e,n,t[n]);if(Ge)for(var n of Ge(t))je.call(t,n)&&Nt(e,n,t[n]);return e},Bt=(e,t)=>Ke(e,rn(t)),Lt=(e,t)=>{var n={};for(var o in e)on.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ge)for(var o of Ge(e))t.indexOf(o)<0&&je.call(e,o)&&(n[o]=e[o]);return n};const sn=(0,Le.default)($t.G)`
  padding: ${({theme:e,size:t})=>`${t==="S"?e.spaces[2]:"10px"} ${e.spaces[4]}`};
  background: ${({theme:e})=>e.colors.buttonPrimary600};
  border: 1px solid ${({theme:e})=>e.colors.buttonPrimary600};
  border-radius: ${({theme:e})=>e.borderRadius};
  ${Q.x} {
    display: flex;
    align-items: center;
  }
  ${de.Z} {
    color: ${({theme:e})=>e.colors.buttonNeutral0};
  }
  &[aria-disabled='true'] {
    ${Se.sg}
    &:active {
      ${Se.sg}
    }
  }
  &:hover {
    ${Se.yP}
  }
  &:active {
    ${Se.tB}
  }
  ${Se.PD}
  /**
    Link specific properties
  */
  display: inline-flex;
  text-decoration: none;
  pointer-events: ${({disabled:e})=>e?"none":void 0};
`,zt=a.forwardRef((e,t)=>{var n=e,{variant:o,startIcon:s,endIcon:l,disabled:u,children:c,size:m,href:g,to:f}=n,p=Lt(n,["variant","startIcon","endIcon","disabled","children","size","href","to"]);const S=g?"_blank":void 0,R=g?"noreferrer noopener":void 0;return a.createElement(sn,Bt(Et({ref:t,"aria-disabled":u,size:m,variant:o,target:S,rel:R,to:u?void 0:f,href:u?"#":g},p),{as:f&&!u?y.NavLink:"a"}),s&&a.createElement(Q.x,{"aria-hidden":!0,paddingRight:2},s),m==="S"?a.createElement(de.Z,{variant:"pi",fontWeight:"bold"},c):a.createElement(de.Z,{fontWeight:"bold"},c),l&&a.createElement(Q.x,{"aria-hidden":!0,paddingLeft:2},l))});zt.displayName="LinkButton",zt.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,size:"S",variant:"default",onClick:void 0,href:void 0,to:void 0},zt.propTypes={children:D.node.isRequired,disabled:D.bool,endIcon:D.element,href(e){if(!e.disabled&&!e.to&&!e.href)return new Error("href must be defined")},onClick:D.func,size:D.oneOf(ht.Gt),startIcon:D.element,to(e){if(!e.disabled&&!e.href&&!e.to)return new Error("to must be defined")},variant:D.oneOf(ht.ZC)};var Ut=i(52624),Ze=i(96315),ln=i(86031);const Rn=(0,Le.default)(Q.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,dn=()=>a.createElement(fe.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,t)=>a.createElement(Rn,{key:`empty-card-${t}`,height:"138px",width:"375px",hasRadius:!0}))),Sn=()=>{const{formatMessage:e}=(0,h.useIntl)();return a.createElement(Q.x,{position:"relative"},a.createElement(dn,null),a.createElement(Q.x,{position:"absolute",top:6,width:"100%"},a.createElement(fe.k,{alignItems:"center",justifyContent:"center",direction:"column"},a.createElement(Ut.J,{as:ln.default,color:"",width:"160px",height:"88px"}),a.createElement(Q.x,{paddingTop:6,paddingBottom:4},a.createElement(Q.x,{textAlign:"center"},a.createElement(de.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),a.createElement(Q.x,{paddingTop:4},a.createElement(de.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),a.createElement(zt,{to:"/marketplace",variant:"secondary",startIcon:a.createElement(Ze.default,null)},e({id:(0,d.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},un=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:o,intlDescription:s}=t,{formatMessage:l}=(0,h.useIntl)(),{onClickSelectCustomField:u}=(0,H.Z)(),c=()=>{u({attributeType:n,customFieldUid:e})};return a.createElement(wt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},a.createElement(fe.k,null,a.createElement(bt.Z,{type:n,customField:e}),a.createElement(Q.x,{paddingLeft:4},a.createElement(fe.k,null,a.createElement(de.Z,{fontWeight:"bold"},l(o))),a.createElement(fe.k,null,a.createElement(de.Z,{variant:"pi",textColor:"neutral600"},l(s))))))};un.propTypes={customFieldUid:r().string.isRequired,customField:r().shape({type:r().string.isRequired,icon:r().func,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,intlDescription:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired}).isRequired};const mt=un,cn=()=>{const{formatMessage:e}=(0,h.useIntl)(),t=(0,v.useCustomFields)(),n=Object.entries(t.getAll());if(!n.length)return a.createElement(Sn,null);const o=n.sort((s,l)=>s[1].name>l[1].name?1:-1);return a.createElement(Zt.k,{tagName:"button"},a.createElement(Z.K,{spacing:3},a.createElement(vt.r,{gap:0},o.map(([s,l],u)=>{const{paddingLeft:c,paddingRight:m}=T(u);return a.createElement(tt.P,{key:s,col:6,style:{height:"100%"}},a.createElement(Q.x,{paddingLeft:c,paddingRight:m,paddingBottom:1,style:{height:"100%"}},a.createElement(mt,{key:s,customFieldUid:s,customField:l})))})),a.createElement(Jt.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,d.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},qt=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:o}=(0,h.useIntl)(),s=(0,d.Z)("modalForm.tabs.default"),l=(0,d.Z)("modalForm.tabs.custom"),u=t.includes("component")?"component":n,c=(0,d.Z)(`modalForm.sub-header.chooseAttribute.${u}`);return a.createElement(St.f,{padding:6},a.createElement(gt.v,{label:o({id:(0,d.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},a.createElement(fe.k,{justifyContent:"space-between"},a.createElement(de.Z,{variant:"beta",as:"h2"},o({id:c,defaultMessage:"Select a field"})),a.createElement(st.m,null,a.createElement(st.O,null,o({id:s,defaultMessage:"Default"})),a.createElement(st.O,null,o({id:l,defaultMessage:"Custom"})))),a.createElement(Q.x,{paddingBottom:6},a.createElement(ft.i,null)),a.createElement($e.n,null,a.createElement($e.x,null,a.createElement(Ie,{attributes:e})),a.createElement($e.x,null,a.createElement(cn,null)))))};qt.propTypes={attributes:r().array.isRequired,forTarget:r().string.isRequired,kind:r().string.isRequired};const dt=qt;var An=i(47149),Fn=i(47824),Zn=i(98426),Nn=i(20707),Ln=i(51277),le=Object.defineProperty,Te=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,La=(e,t,n)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Da=(e,t)=>{for(var n in t||(t={}))De.call(t,n)&&La(e,n,t[n]);if(Te)for(var n of Te(t))Tt.call(t,n)&&La(e,n,t[n]);return e};const Io=(0,Le.default)(de.Z)`
  text-align: center;
`,Dn=({description:e,disabled:t,intlLabel:n,isCreating:o,name:s,onChange:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),[m,g]=(0,a.useState)(!1),f=n.id?c({id:n.id,defaultMessage:n.defaultMessage},Da({},n.values)):s,p=e?c({id:e.id,defaultMessage:e.defaultMessage},Da({},e.values)):"",S=()=>g(z=>!z),R=()=>{l({target:{name:s,value:!1}}),S()},N=({target:{checked:z}})=>{if(!z&&!o){S();return}l({target:{name:s,value:z}})};return a.createElement(a.Fragment,null,a.createElement(Nn.s,{checked:u||!1,disabled:t,hint:p,label:f,name:s,offLabel:c({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:c({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:N}),m&&a.createElement(An.V,{onClose:S,title:"Confirmation",isOpen:m},a.createElement(Fn.a,{icon:a.createElement(Ln.default,null)},a.createElement(Z.K,{spacing:2},a.createElement(fe.k,{justifyContent:"center"},a.createElement(Io,{id:"confirm-description"},c({id:(0,d.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the Draft/Publish system, your drafts will be deleted."}))),a.createElement(fe.k,{justifyContent:"center"},a.createElement(de.Z,{id:"confirm-description"},c({id:(0,d.Z)("popUpWarning.draft-publish.second-message"),defaultMessage:"Are you sure you want to disable it?"}))))),a.createElement(Zn.c,{startAction:a.createElement(se.z,{onClick:S,variant:"tertiary"},c({id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"})),endAction:a.createElement(se.z,{variant:"danger-light",onClick:R},c({id:(0,d.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}))})))};Dn.defaultProps={description:null,disabled:!1,value:!1},Dn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isCreating:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().bool};const jo=Dn;var In=i(2407),Ia=i(24969);const jn=({actionType:e,attributeName:t,attributeType:n,categoryName:o,contentTypeKind:s,dynamicZoneTarget:l,forTarget:u,modalType:c,targetUid:m,customFieldUid:g})=>{var f;const{formatMessage:p}=(0,h.useIntl)(),{modifiedData:S}=(0,K.Z)();let R,N=[];const z=((f=S==null?void 0:S[u])==null?void 0:f[m])||(S==null?void 0:S[u])||null;let _=z==null?void 0:z.schema.displayName;if(c==="contentType"&&(R=s),["component","editCategory"].includes(c)&&(R="component"),["component","contentType"].includes(c)){let P=(0,d.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(P=(0,d.Z)(`modalForm.${s}.header-create`)),e==="edit"&&(P=(0,d.Z)("modalForm.header-edit")),a.createElement(Ia.x,null,a.createElement(fe.k,null,a.createElement(Q.x,null,a.createElement(bt.Z,{type:R})),a.createElement(Q.x,{paddingLeft:3},a.createElement(de.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},p({id:P},{name:_})))))}N=[{label:_,info:{category:(z==null?void 0:z.category)||null,name:z==null?void 0:z.schema.displayName}}],c==="chooseAttribute"&&(R=["component","components"].includes(u)?"component":z.schema.kind),c==="addComponentToDynamicZone"&&(R="dynamiczone",N.push({label:l})),(c==="attribute"||c==="customField")&&(R=n,N.push({label:t})),c==="editCategory"&&(N=[{label:p({id:(0,d.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:o}]);const q=N.map(({label:P})=>P).join(",");return a.createElement(Ia.x,null,a.createElement(Z.K,{horizontal:!0,spacing:3},a.createElement(bt.Z,{type:R,customField:g}),a.createElement(In.O,{label:q},N.map((P,ue)=>{var pe;const ve=Ee()(P.label);if(!ve)return null;const V=`${P.label}.${ue}`;if((pe=P.info)!=null&&pe.category){const ce=`${ve} (${Ee()(P.info.category)} - ${Ee()(P.info.name)})`;return a.createElement(In.$,{key:V},ce)}return a.createElement(In.$,{key:V},ve)}))))};jn.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},jn.propTypes={actionType:r().string,attributeName:r().string,attributeType:r().string,categoryName:r().string,contentTypeKind:r().string,dynamicZoneTarget:r().string,forTarget:r().oneOf(["contentType","component","components"]),modalType:r().string.isRequired,targetUid:r().string,customFieldUid:r().string};const wo=jn,wn=({categoryName:e,deleteCategory:t,deleteComponent:n,deleteContentType:o,isAttributeModal:s,isCustomFieldModal:l,isComponentAttribute:u,isComponentToDzModal:c,isContentTypeModal:m,isCreatingComponent:g,isCreatingComponentAttribute:f,isCreatingComponentInDz:p,isCreatingComponentWhileAddingAField:S,isCreatingContentType:R,isCreatingDz:N,isComponentModal:z,isDzAttribute:_,isEditingAttribute:L,isEditingCategory:q,isInFirstComponentStep:P,onSubmitAddComponentAttribute:ue,onSubmitAddComponentToDz:pe,onSubmitCreateContentType:ve,onSubmitCreateComponent:V,onSubmitCreateDz:ce,onSubmitEditAttribute:ge,onSubmitEditCategory:Mt,onSubmitEditComponent:be,onSubmitEditContentType:Ot,onSubmitEditCustomFieldAttribute:He,onSubmitEditDz:me,onClickFinish:Pe})=>{const{formatMessage:he}=(0,h.useIntl)();return c?p?a.createElement(se.z,{variant:"secondary",type:"submit",onClick:w=>{w.preventDefault(),pe(w,!0)},startIcon:a.createElement(Ze.default,null)},he({id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):a.createElement(se.z,{variant:"default",type:"submit",onClick:w=>{w.preventDefault(),pe(w,!1)}},he({id:"global.finish",defaultMessage:"Finish"})):s&&_&&!N?a.createElement(se.z,{variant:"default",type:"submit",onClick:w=>{w.preventDefault(),Pe(),me(w,!1)}},he({id:"global.finish",defaultMessage:"Finish"})):s&&_&&N?a.createElement(a.Fragment,null,a.createElement(se.z,{variant:"secondary",type:"submit",onClick:w=>{w.preventDefault(),ce(w,!0)},startIcon:a.createElement(Ze.default,null)},he({id:(0,d.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):s&&u?P?a.createElement(se.z,{variant:"secondary",type:"submit",onClick:w=>{w.preventDefault(),ue(w,!0)}},he(f?{id:(0,d.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):a.createElement(a.Fragment,null,a.createElement(se.z,{variant:"secondary",type:"submit",onClick:w=>{w.preventDefault(),ue(w,!0)},startIcon:a.createElement(Ze.default,null)},he(S?{id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(se.z,{variant:"default",type:"button",onClick:w=>{w.preventDefault(),Pe(),ue(w,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))):s&&!u&&!_?a.createElement(a.Fragment,null,a.createElement(se.z,{type:L?"button":"submit",variant:"secondary",onClick:w=>{w.preventDefault(),ge(w,!0)},startIcon:a.createElement(Ze.default,null)},he({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(se.z,{type:L?"submit":"button",variant:"default",onClick:w=>{w.preventDefault(),Pe(),ge(w,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))):m?a.createElement(a.Fragment,null,!R&&a.createElement(a.Fragment,null,a.createElement(se.z,{type:"button",variant:"danger",onClick:w=>{w.preventDefault(),o()}},he({id:"global.delete",defaultMessage:"Delete"})),a.createElement(se.z,{type:"submit",variant:"default",onClick:w=>{w.preventDefault(),Ot(w,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))),R&&a.createElement(se.z,{type:"submit",variant:"secondary",onClick:w=>{w.preventDefault(),ve(w,!0)}},he({id:"global.continue",defaultMessage:"Continue"}))):z?a.createElement(a.Fragment,null,!g&&a.createElement(a.Fragment,null,a.createElement(se.z,{type:"button",variant:"danger",onClick:w=>{w.preventDefault(),n()}},he({id:"global.delete",defaultMessage:"Delete"})),a.createElement(se.z,{type:"submit",variant:"default",onClick:w=>{w.preventDefault(),be(w,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))),g&&a.createElement(se.z,{type:"submit",variant:"secondary",onClick:w=>{w.preventDefault(),V(w,!0)}},he({id:"global.continue",defaultMessage:"Continue"}))):q?a.createElement(a.Fragment,null,a.createElement(se.z,{type:"button",variant:"danger",onClick:w=>{w.preventDefault(),t(e)}},he({id:"global.delete",defaultMessage:"Delete"})),a.createElement(se.z,{type:"submit",variant:"default",onClick:w=>{w.preventDefault(),Mt(w)}},he({id:"global.finish",defaultMessage:"finish"}))):l?a.createElement(a.Fragment,null,a.createElement(se.z,{type:L?"button":"submit",variant:"secondary",onClick:w=>{w.preventDefault(),He(w,!0)},startIcon:a.createElement(Ze.default,null)},he({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(se.z,{type:L?"submit":"button",variant:"default",onClick:w=>{w.preventDefault(),Pe(),He(w,!1)}},he({id:"global.finish",defaultMessage:"Finish"}))):null};wn.defaultProps={categoryName:null,onClickFinish(){}},wn.propTypes={categoryName:r().string,deleteCategory:r().func.isRequired,deleteComponent:r().func.isRequired,deleteContentType:r().func.isRequired,isAttributeModal:r().bool.isRequired,isCustomFieldModal:r().bool.isRequired,isComponentAttribute:r().bool.isRequired,isComponentModal:r().bool.isRequired,isComponentToDzModal:r().bool.isRequired,isContentTypeModal:r().bool.isRequired,isCreatingComponent:r().bool.isRequired,isCreatingComponentAttribute:r().bool.isRequired,isCreatingComponentInDz:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,isCreatingContentType:r().bool.isRequired,isCreatingDz:r().bool.isRequired,isDzAttribute:r().bool.isRequired,isEditingAttribute:r().bool.isRequired,isEditingCategory:r().bool.isRequired,isInFirstComponentStep:r().bool.isRequired,onSubmitAddComponentAttribute:r().func.isRequired,onSubmitAddComponentToDz:r().func.isRequired,onSubmitCreateContentType:r().func.isRequired,onSubmitCreateComponent:r().func.isRequired,onSubmitCreateDz:r().func.isRequired,onSubmitEditAttribute:r().func.isRequired,onSubmitEditCategory:r().func.isRequired,onSubmitEditComponent:r().func.isRequired,onSubmitEditContentType:r().func.isRequired,onSubmitEditCustomFieldAttribute:r().func.isRequired,onSubmitEditDz:r().func.isRequired,onClickFinish:r().func};const $o=wn,Bo=({modalType:e,forTarget:t,kind:n,actionType:o,step:s})=>{switch(e){case"chooseAttribute":return(0,d.Z)(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":n||"collectionType"}`);case"attribute":return(0,d.Z)(`modalForm.sub-header.attribute.${o}${s!=="null"&&s!==null&&o!=="edit"?".step":""}`);case"customField":return(0,d.Z)(`modalForm.sub-header.attribute.${o}`);case"addComponentToDynamicZone":return(0,d.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.Z)("configurations")}},$n=({actionType:e,modalType:t,forTarget:n,kind:o,step:s,attributeType:l,attributeName:u,customField:c})=>{const{formatMessage:m}=(0,h.useIntl)(),g=t==="customField"?c.intlLabel:{id:(0,d.Z)(`attribute.${l}`)};return a.createElement(Z.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},a.createElement(de.Z,{as:"h2",variant:"beta"},m({id:Bo({actionType:e,forTarget:n,kind:o,step:s,modalType:t}),defaultMessage:"Add new field"},{type:Ee()(m(g)),name:Ee()(u),step:s})),a.createElement(de.Z,{variant:"pi",textColor:"neutral600"},m({id:(0,d.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};$n.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},$n.propTypes={actionType:r().string,modalType:r().string,forTarget:r().string,kind:r().string,step:r().string,attributeType:r().string,attributeName:r().string,customField:r().object};const zo=$n;var mn=i(91216),pn=i(82562),Uo=Object.defineProperty,ja=Object.getOwnPropertySymbols,qo=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable,wa=(e,t,n)=>t in e?Uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ko=(e,t)=>{for(var n in t||(t={}))qo.call(t,n)&&wa(e,n,t[n]);if(ja)for(var n of ja(t))Wo.call(t,n)&&wa(e,n,t[n]);return e};const Bn=({intlLabel:e,name:t,options:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,h.useIntl)(),u=e.id?l({id:e.id,defaultMessage:e.defaultMessage},ko({},e.values)):t,c=m=>{let g="";m==="true"&&(g=!0),m==="false"&&(g=!1),o({target:{name:t,value:g,type:"select-default-boolean"}})};return a.createElement(mn.P,{label:u,id:t,name:t,onChange:c,value:(s===null?"":s).toString()},n.map(({metadatas:{intlLabel:m,disabled:g,hidden:f},key:p,value:S})=>a.createElement(pn.W,{key:p,value:S,disabled:g,hidden:f},m.defaultMessage)))};Bn.defaultProps={value:null},Bn.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().any};const Vo=Bn;var Ko=i(15585);const Go=(0,Le.default)(Z.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Ko.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${de.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,zn=({intlLabel:e,name:t,onChange:n,radios:o,value:s})=>{const{formatMessage:l}=(0,h.useIntl)();return a.createElement(Z.K,{spacing:2},a.createElement(de.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label"},l(e)),a.createElement(Go,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},o.map(u=>a.createElement("label",{htmlFor:u.value.toString(),key:u.value,className:"container"},a.createElement("input",{id:u.value.toString(),name:t,className:"option-input",checked:u.value===s,value:u.value,key:u.value,onChange:n,type:"radio"}),a.createElement(Q.x,{className:"option",padding:4},a.createElement(fe.k,null,a.createElement(Q.x,{paddingRight:4},a.createElement("span",{className:"checkmark"})),a.createElement(Z.K,{spacing:2},a.createElement(de.Z,{fontWeight:"bold"},l(u.title)),a.createElement(de.Z,{variant:"pi",textColor:"neutral600"},l(u.description)))))))))};zn.defaultProps={radios:[]},zn.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,radios:r().arrayOf(r().shape({title:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}),value:r().any.isRequired})),value:r().oneOfType([r().string,r().bool]).isRequired};const Un=zn;var Ho=Object.defineProperty,Xo=Object.defineProperties,Yo=Object.getOwnPropertyDescriptors,fn=Object.getOwnPropertySymbols,$a=Object.prototype.hasOwnProperty,Ba=Object.prototype.propertyIsEnumerable,za=(e,t,n)=>t in e?Ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jo=(e,t)=>{for(var n in t||(t={}))$a.call(t,n)&&za(e,n,t[n]);if(fn)for(var n of fn(t))Ba.call(t,n)&&za(e,n,t[n]);return e},Qo=(e,t)=>Xo(e,Yo(t)),_o=(e,t)=>{var n={};for(var o in e)$a.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&fn)for(var o of fn(e))t.indexOf(o)<0&&Ba.call(e,o)&&(n[o]=e[o]);return n};const Ua=e=>{var t=e,{onChange:n,name:o}=t,s=_o(t,["onChange","name"]);const l=u=>{const c=u.target.value!=="false";n({target:{name:o,value:c,type:"boolean-radio-group"}})};return a.createElement(Un,Qo(Jo({},s),{name:o,onChange:l}))};Ua.propTypes={name:r().string.isRequired,onChange:r().func.isRequired};const ei=Ua;var ti=i(36213),qn=i(12645),qa=i(99216),ni=i(54574),ai=i(64777),ri=i(45377),oi=i(63428),ii=i(96404),si=i(75228),Wa=i(41762),ka=i(7801);const Va="en-EN",li=()=>typeof navigator=="undefined"?Va:navigator.language?navigator.language:navigator.userLanguage?navigator.userLanguage:Va;var Ka=i(98402);function di({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,s]=ui({defaultProp:t,onChange:n}),l=e!==void 0,u=typeof e=="function"?e(o):e,c=l?u:o,m=(0,Ka.useCallbackRef)(n),g=a.useCallback(f=>{if(l){const p=typeof f=="function"?f(u):f;p!==u&&(m(p),s(f))}else s(f)},[l,u,s,m]);return[c,g]}function ui({defaultProp:e,onChange:t}){const n=a.useState(e),[o]=n,s=a.useRef(o),l=(0,Ka.useCallbackRef)(t);return a.useEffect(()=>{s.current!==o&&(l(o),s.current=o)},[o,s,l]),n}var ci=Object.defineProperty,gn=Object.getOwnPropertySymbols,Ga=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable,Xa=(e,t,n)=>t in e?ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mi=(e,t)=>{for(var n in t||(t={}))Ga.call(t,n)&&Xa(e,n,t[n]);if(gn)for(var n of gn(t))Ha.call(t,n)&&Xa(e,n,t[n]);return e},pi=(e,t)=>{var n={};for(var o in e)Ga.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&gn)for(var o of gn(e))t.indexOf(o)<0&&Ha.call(e,o)&&(n[o]=e[o]);return n};const Ya=Le.default.button`
  display: flex;
  height: 1rem;
  align-items: ${({reverse:e})=>e?"flex-end":"flex-start"};
  transform: translateY(${({reverse:e})=>e?"-2px":"2px"});
  cursor: ${({disabled:e})=>e?"not-allowed":void 0};
  svg {
    display: block;
    height: ${4/16}rem;
    transform: ${({reverse:e})=>e?"rotateX(180deg)":void 0};
  }
`,fi="",yn=a.forwardRef((e,t)=>{var n=e,{size:o,startAction:s,name:l,hint:u,error:c,label:m,labelAction:g,locale:f,id:p,onValueChange:S,value:R,step:N,required:z,disabled:_}=n,L=pi(n,["size","startAction","name","hint","error","label","labelAction","locale","id","onValueChange","value","step","required","disabled"]);const q=(0,Wa.M)("numberinput",p),P=f||li(),ue=(0,a.useRef)(new qa.NumberParser(P,{style:"decimal"})),pe=(0,a.useRef)(new qa.NumberFormatter(P,{maximumFractionDigits:20})),[ve,V]=di({prop(me){const Pe=String(R);return isNaN(Pe)||Pe!==me&&me!==""?me:Pe},defaultProp:fi,onChange(me){const Pe=ue.current.parse(me);S(isNaN(Pe)?void 0:Pe)}}),ce=me=>{V(String(me))},ge=({target:{value:me}})=>{ue.current.isValidPartialNumber(me)&&ce(me)},Mt=()=>{if(!ve){ce(N);return}const me=ue.current.parse(ve),Pe=isNaN(me)?N:me+N;ce(pe.current.format(Pe))},be=()=>{if(!ve){ce(-N);return}const me=ue.current.parse(ve),Pe=isNaN(me)?-N:me-N;ce(pe.current.format(Pe))},Ot=me=>{if(!_)switch(me.key){case ka.y.DOWN:{me.preventDefault(),be();break}case ka.y.UP:{me.preventDefault(),Mt();break}}},He=()=>{if(ve){const me=ue.current.parse(ve),Pe=isNaN(me)?"":pe.current.format(me);ce(Pe)}};return a.createElement(ni.g,{name:l,hint:u,error:c,id:q,required:z},a.createElement(Z.K,{spacing:1},m&&a.createElement(ai.Q,{action:g},m),a.createElement(ri._,mi({ref:t,startAction:s,disabled:_,type:"text",inputmode:"decimal",onChange:ge,onKeyDown:Ot,onBlur:He,value:ve,size:o,endAction:a.createElement(a.Fragment,null,a.createElement(Ya,{disabled:_,"aria-hidden":!0,reverse:!0,onClick:Mt,tabIndex:-1,type:"button","data-testid":"ArrowUp"},a.createElement(Ut.J,{as:qn.default,color:"neutral500"})),a.createElement(Ya,{disabled:_,"aria-hidden":!0,onClick:be,tabIndex:-1,type:"button","data-testid":"ArrowDown"},a.createElement(Ut.J,{as:qn.default,color:"neutral500"})))},L)),a.createElement(oi.J,null),a.createElement(ii.c,null)))});yn.displayName="NumberInput",yn.defaultProps={"aria-label":void 0,disabled:!1,error:void 0,hint:void 0,id:void 0,label:void 0,labelAction:void 0,locale:void 0,required:!1,size:"M",startAction:void 0,step:1,value:void 0},yn.propTypes={"aria-label":D.string,disabled:D.bool,error:D.string,hint:D.oneOfType([D.string,D.node,D.arrayOf(D.node)]),id:D.string,label:D.string,labelAction:D.element,locale:D.string,name:D.string.isRequired,onValueChange:D.func.isRequired,required:D.bool,size:D.oneOf(Object.keys(si.J.input)),startAction:D.element,step:D.number,value:D.number};var Wn=i(16364),gi=Object.defineProperty,Ja=Object.getOwnPropertySymbols,yi=Object.prototype.hasOwnProperty,vi=Object.prototype.propertyIsEnumerable,Qa=(e,t,n)=>t in e?gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bi=(e,t)=>{for(var n in t||(t={}))yi.call(t,n)&&Qa(e,n,t[n]);if(Ja)for(var n of Ja(t))vi.call(t,n)&&Qa(e,n,t[n]);return e};const kn=({error:e,intlLabel:t,modifiedData:n,name:o,onChange:s,value:l})=>{const{formatMessage:u}=(0,h.useIntl)(),[c,m]=(0,a.useState)(!!l||l===0),g=t.id?u({id:t.id,defaultMessage:t.defaultMessage},bi({},t.values)):o,f=n.type==="biginteger"?"text":"number",p=!n.type,S=e?u({id:e,defaultMessage:e}):"";return a.createElement(Z.K,{spacing:2},a.createElement(ti.X,{id:o,name:o,onValueChange:R=>{s({target:{name:o,value:R?f==="text"?"0":0:null}}),m(_=>!_)},value:c},g),c&&a.createElement(Q.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?a.createElement(Wn.o,{"aria-label":g,disabled:p,error:S,id:o,name:o,onChange:s,value:l===null?"":l}):a.createElement(yn,{"aria-label":g,disabled:p,error:S,id:o,name:o,onValueChange:R=>{s({target:{name:o,value:R,type:f}})},value:l||0})))};kn.defaultProps={error:null,value:null},kn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().oneOfType([r().string,r().object,r().bool,r().number])};const hi=kn;var Ei=Object.defineProperty,Ti=Object.defineProperties,Ci=Object.getOwnPropertyDescriptors,vn=Object.getOwnPropertySymbols,_a=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable,tr=(e,t,n)=>t in e?Ei(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mi=(e,t)=>{for(var n in t||(t={}))_a.call(t,n)&&tr(e,n,t[n]);if(vn)for(var n of vn(t))er.call(t,n)&&tr(e,n,t[n]);return e},Oi=(e,t)=>Ti(e,Ci(t)),Pi=(e,t)=>{var n={};for(var o in e)_a.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&vn)for(var o of vn(e))t.indexOf(o)<0&&er.call(e,o)&&(n[o]=e[o]);return n};const nr=e=>{var t=e,{onChange:n}=t,o=Pi(t,["onChange"]);const s=(0,v.useNotification)(),l=u=>{s({type:"info",message:{id:(0,d.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),n(u)};return a.createElement(Un,Oi(Mi({},o),{onChange:l}))};nr.propTypes={onChange:r().func.isRequired};const xi=nr;var Vn=i(1734),ar=i(17205),Ae=i(59015);const Kn=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:o}=(0,K.Z)(),s=(0,X.useDispatch)(),l=o.filter(Ve),u=k()(n,[t,"plugin"],null),c=k()(n,[t,"schema","displayName"],"error");return a.createElement(ar.O,{id:"label",label:`${c}
    ${u?`(from: ${u})`:""}`},l.map(({uid:m,title:g,restrictRelationsTo:f,plugin:p})=>{const S=()=>{const R=p?`${p}_${g}`:g;s({type:Ae.aG,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:R,targetContentTypeAllowedRelations:f}})};return a.createElement(ar.s,{key:m,onClick:S},g,"\xA0",p&&a.createElement(a.Fragment,null,"(from: ",p,")"))}))};Kn.defaultProps={target:null},Kn.propTypes={oneThatIsCreatingARelationWithAnother:r().string.isRequired,target:r().string};const Ri=Kn,Gn=({disabled:e,error:t,header:n,isMain:o,name:s,onChange:l,oneThatIsCreatingARelationWithAnother:u,target:c,value:m})=>a.createElement(Q.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},a.createElement(fe.k,{paddingTop:o?4:1,paddingBottom:o?3:1,justifyContent:"center"},o?a.createElement(de.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},n):a.createElement(Ri,{target:c,oneThatIsCreatingARelationWithAnother:u})),a.createElement(ft.i,{background:"neutral200"}),a.createElement(Q.x,{padding:4},a.createElement(v.GenericInput,{disabled:e,error:(t==null?void 0:t.id)||null,intlLabel:{id:(0,d.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:s,onChange:l,type:"text",value:m})));Gn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Gn.propTypes={disabled:r().bool,error:r().object,header:r().string,isMain:r().bool,name:r().string.isRequired,onChange:r().func,oneThatIsCreatingARelationWithAnother:r().string,target:r().string,value:r().string};const rr=Gn;var Si=i(39138),or=i.n(Si),Ai=i(23450),Hn=i.n(Ai),Fi=Object.defineProperty,ir=Object.getOwnPropertySymbols,Zi=Object.prototype.hasOwnProperty,Ni=Object.prototype.propertyIsEnumerable,sr=(e,t,n)=>t in e?Fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Li=(e,t)=>{for(var n in t||(t={}))Zi.call(t,n)&&sr(e,n,t[n]);if(ir)for(var n of ir(t))Ni.call(t,n)&&sr(e,n,t[n]);return e};function Di(e){return a.createElement("svg",Li({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44z",fill:"#212134"}))}var Ii=Object.defineProperty,lr=Object.getOwnPropertySymbols,ji=Object.prototype.hasOwnProperty,wi=Object.prototype.propertyIsEnumerable,dr=(e,t,n)=>t in e?Ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$i=(e,t)=>{for(var n in t||(t={}))ji.call(t,n)&&dr(e,n,t[n]);if(lr)for(var n of lr(t))wi.call(t,n)&&dr(e,n,t[n]);return e};function Bi(e){return a.createElement("svg",$i({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 110-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128zM6 11.6a2.4 2.4 0 11-4.8 0 2.4 2.4 0 014.8 0z",fill:"#212134"}))}var zi=Object.defineProperty,ur=Object.getOwnPropertySymbols,Ui=Object.prototype.hasOwnProperty,qi=Object.prototype.propertyIsEnumerable,cr=(e,t,n)=>t in e?zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wi=(e,t)=>{for(var n in t||(t={}))Ui.call(t,n)&&cr(e,n,t[n]);if(ur)for(var n of ur(t))qi.call(t,n)&&cr(e,n,t[n]);return e};function ki(e){return a.createElement("svg",Wi({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44z",fill:"#212134"}),a.createElement("path",{d:"M5.872 10.43l8.347-6.176.86 1.163-8.347 6.176-.86-1.162zM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167zM18.72 8.613l5.28 3.12-5.28 3.12v-6.24z",fill:"#212134"}),a.createElement("path",{d:"M12.72 2.633L18.82 2 16.43 7.649 12.72 2.633zM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016z",fill:"#212134"}))}var Vi=Object.defineProperty,mr=Object.getOwnPropertySymbols,Ki=Object.prototype.hasOwnProperty,Gi=Object.prototype.propertyIsEnumerable,pr=(e,t,n)=>t in e?Vi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hi=(e,t)=>{for(var n in t||(t={}))Ki.call(t,n)&&pr(e,n,t[n]);if(mr)for(var n of mr(t))Gi.call(t,n)&&pr(e,n,t[n]);return e};function Xi(e){return a.createElement("svg",Hi({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),a.createElement("path",{d:"M5.871 10.699l8.347-6.176.86 1.162-8.347 6.177-.86-1.163zM5.899 13.354l8.346 6.176.864-1.167-8.347-6.176-.863 1.167z",fill:"#212134"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}))}var Yi=Object.defineProperty,fr=Object.getOwnPropertySymbols,Ji=Object.prototype.hasOwnProperty,Qi=Object.prototype.propertyIsEnumerable,gr=(e,t,n)=>t in e?Yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_i=(e,t)=>{for(var n in t||(t={}))Ji.call(t,n)&&gr(e,n,t[n]);if(fr)for(var n of fr(t))Qi.call(t,n)&&gr(e,n,t[n]);return e};function es(e){return a.createElement("svg",_i({width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44z",fill:"#212134"}),a.createElement("path",{d:"M18.129 10.699L9.782 4.523l-.86 1.162 8.347 6.177.86-1.163zM18.101 13.354L9.755 19.53l-.864-1.167 8.347-6.176.863 1.167z",fill:"#212134"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}))}var ts=Object.defineProperty,yr=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,as=Object.prototype.propertyIsEnumerable,vr=(e,t,n)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rs=(e,t)=>{for(var n in t||(t={}))ns.call(t,n)&&vr(e,n,t[n]);if(yr)for(var n of yr(t))as.call(t,n)&&vr(e,n,t[n]);return e};function os(e){return a.createElement("svg",rs({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM3.6 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),a.createElement("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}),a.createElement("path",{d:"M18.328 13.863L6.49 19.765l-.652-1.307 11.838-5.902.652 1.307zM18.358 10.078L6.398 4.115l-.646 1.294 11.961 5.963.645-1.294z",fill:"#212134"}),a.createElement("path",{d:"M18.323 18.83L6.252 12.813l-.643 1.29 12.071 6.019.643-1.29zM18.136 5.228L6.207 11.176l-.653-1.311 11.928-5.948.654 1.311z",fill:"#212134"}))}const is=(0,Le.default)(Q.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,ss=(0,Le.default)(Q.x)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,ls=(0,Le.default)(fe.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,ds={oneWay:Bi,oneToOne:Di,oneToMany:Xi,manyToOne:es,manyToMany:os,manyWay:ki},Xn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:o})=>{const s=(0,X.useDispatch)(),{formatMessage:l}=(0,h.useIntl)(),{contentTypes:u,modifiedData:c}=(0,K.Z)(),m=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],g=["oneWay","manyWay"],p=(e==="contentType"?k()(c,[e,"schema","kind"],""):e)==="collectionType"?m:g,S=n==="manyToOne",R=k()(u,[o,"schema","displayName"],"unknown"),N=S?R:t,z=S?t:R,_=Hn()(N,n==="manyToMany"?2:1),L=k()(u,[o,"schema","restrictRelationsTo"],null),q=Hn()(z,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?a.createElement(fe.k,{style:{flex:1}},a.createElement(is,null,a.createElement(fe.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},a.createElement(Zt.k,{tagName:"button"},a.createElement(Z.K,{spacing:3,horizontal:!0},p.map(P=>{const ue=ds[P],pe=L===null||L.includes(P);return a.createElement(ss,{as:"button",isSelected:n===P,disabled:!pe,key:P,onClick:()=>{pe&&s({type:Ae.QQ,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:o,value:P}})},padding:2,type:"button"},a.createElement(ue,{key:P}))}))))),a.createElement(ls,{justifyContent:"center"},a.createElement(de.Z,null,or()(_,{length:24}),"\xA0"),a.createElement(de.Z,{textColor:"primary600"},l({id:(0,d.Z)(`relation.${n}`)}),"\xA0"),a.createElement(de.Z,null,or()(q,{length:24})))):null};Xn.defaultProps={relationType:null,target:null},Xn.propTypes={naturePickerType:r().string.isRequired,oneThatIsCreatingARelationWithAnother:r().string.isRequired,relationType:r().string,target:r().string};const us=Xn,br=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:o,onChange:s})=>{const l=(0,Vn.Z)(n.relation,n.targetAttribute);return a.createElement(fe.k,{style:{position:"relative"}},a.createElement(rr,{isMain:!0,header:t,error:(e==null?void 0:e.name)||null,name:"name",onChange:s,value:(n==null?void 0:n.name)||""}),a.createElement(us,{naturePickerType:o,oneThatIsCreatingARelationWithAnother:t,relationType:l,target:n.target}),a.createElement(rr,{disabled:["oneWay","manyWay"].includes(l),error:(e==null?void 0:e.targetAttribute)||null,name:"targetAttribute",onChange:s,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:(n==null?void 0:n.targetAttribute)||""}))};br.propTypes={formErrors:r().object.isRequired,mainBoxHeader:r().string.isRequired,modifiedData:r().object.isRequired,naturePickerType:r().string.isRequired,onChange:r().func.isRequired};const cs=br;var hr=i(97406),ms=Object.defineProperty,Er=Object.getOwnPropertySymbols,ps=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable,Tr=(e,t,n)=>t in e?ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gs=(e,t)=>{for(var n in t||(t={}))ps.call(t,n)&&Tr(e,n,t[n]);if(Er)for(var n of Er(t))fs.call(t,n)&&Tr(e,n,t[n]);return e};const Yn=({description:e,error:t,intlLabel:n,modifiedData:o,name:s,onChange:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=(0,a.useRef)(l),g=(o==null?void 0:o.displayName)||"";(0,a.useEffect)(()=>{if(g){const R=(0,hr.Z)(g);try{const N=Hn()(R,2);m.current({target:{name:s,value:N}})}catch(N){m.current({target:{name:s,value:R}})}}else m.current({target:{name:s,value:""}})},[g,s]);const f=t?c({id:t,defaultMessage:t}):"",p=e?c({id:e.id,defaultMessage:e.defaultMessage},gs({},e.values)):"",S=c(n);return a.createElement(Wn.o,{error:f,label:S,id:s,hint:p,name:s,onChange:l,value:u||""})};Yn.defaultProps={description:null,error:null,value:null},Yn.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const ys=Yn;var vs=i(31950),bs=i(90608);const Jn=({error:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,h.useIntl)(),{allComponentsCategories:u}=(0,K.Z)(),[c,m]=(0,a.useState)(u),g=e?l({id:e,defaultMessage:e}):"",f=l(t),p=R=>{o({target:{name:n,value:R,type:"select-category"}})},S=R=>{m(N=>[...N,R]),p(R)};return a.createElement(vs.X,{error:g,id:n,label:f,name:n,onChange:p,onCreateOption:S,value:s},c.map(R=>a.createElement(bs.O,{key:R,value:R},R)))};Jn.defaultProps={error:null,value:null},Jn.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const hs=Jn,Qn=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:o,isCreatingComponentWhileAddingAField:s,componentToCreate:l,name:u,onChange:c,targetUid:m,forTarget:g,value:f})=>{const{formatMessage:p}=(0,h.useIntl)(),S=e?p({id:e,defaultMessage:e}):"",R=p(t),{componentsGroupedByCategory:N,componentsThatHaveOtherComponentInTheirAttributes:z}=(0,K.Z)(),_=["component","components"].includes(g);let L=Object.entries(N).reduce((q,P)=>{const[ue,pe]=P,ve=pe.map(V=>({uid:V.uid,label:V.schema.displayName,categoryName:ue}));return[...q,...ve]},[]);return n&&(L=L.filter(q=>!z.includes(q.uid))),_&&(L=L.filter(q=>q.uid!==m)),s&&(L=[{uid:f,label:l.displayName,categoryName:l.category}]),a.createElement(mn.P,{disabled:s||!o,error:S,label:R,id:u,name:u,onChange:q=>{c({target:{name:u,value:q,type:"select-category"}})},value:f||""},L.map(q=>a.createElement(pn.W,{key:q.uid,value:q.uid},`${q.categoryName} - ${q.label}`)))};Qn.defaultProps={componentToCreate:null,error:null},Qn.propTypes={componentToCreate:r().object,forTarget:r().string.isRequired,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,isAddingAComponentToAnotherComponent:r().bool.isRequired,isCreating:r().bool.isRequired,isCreatingComponentWhileAddingAField:r().bool.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,targetUid:r().string.isRequired,value:r().string.isRequired};const Es=Qn,_n=(e,t)=>e.find(({name:n})=>n===t),Cr=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:o,value:s})=>{const{formatMessage:l}=(0,h.useIntl)(),{componentsGroupedByCategory:u,modifiedData:c}=(0,K.Z)(),g=(_n(c.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(u).reduce((R,N)=>{const z=u[N].filter(({uid:_})=>!g.includes(_));return z.length>0&&(R[N]=z),R},{}),p=Object.entries(f).reduce((R,N)=>{const[z,_]=N,L={label:z,children:_.map(({uid:q,schema:{displayName:P}})=>({label:P,value:q}))};return R.push(L),R},[]),S=l({id:(0,d.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:s.length});return a.createElement(oe.Q,{id:"select1",label:l(t),customizeContent:()=>S,name:n,onChange:R=>{o({target:{name:n,value:R,type:"select-components"}})},options:p,value:s||[]})};Cr.propTypes={intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,dynamicZoneTarget:r().string.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().array.isRequired};const Ts=Cr,ea=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:s,options:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=c(e),g=t?c({id:t,defaultMessage:t}):"",f=p=>{s({target:{name:o,value:p,type:"select"}}),u&&n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}})};return a.createElement(mn.P,{error:g,label:m,id:o,name:o,onChange:f,value:u||""},l.map(({metadatas:{intlLabel:p,disabled:S,hidden:R},key:N,value:z})=>a.createElement(pn.W,{key:N,value:z,disabled:S,hidden:R},c({id:p.id,defaultMessage:p.defaultMessage},p.values))))};ea.defaultProps={error:void 0,value:""},ea.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const Cs=ea,ta=({intlLabel:e,error:t,modifiedData:n,name:o,onChange:s,options:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=c(e),g=t?c({id:t,defaultMessage:t}):"",f=p=>{s({target:{name:o,value:p,type:"select"}}),u&&(p==="biginteger"&&u!=="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})),["decimal","float","integer"].includes(p)&&u==="biginteger"&&(n.default!==void 0&&n.default!==null&&s({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&s({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&s({target:{name:"min",value:null}})))};return a.createElement(mn.P,{error:g,label:m,id:o,name:o,onChange:f,value:u||""},l.map(({metadatas:{intlLabel:p,disabled:S,hidden:R},key:N,value:z})=>a.createElement(pn.W,{key:N,value:z,disabled:S,hidden:R},c(p))))};ta.defaultProps={error:void 0,value:""},ta.propTypes={error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,options:r().arrayOf(r().shape({metadatas:r().shape({intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,disabled:r().bool,hidden:r().bool}).isRequired,key:r().oneOfType([r().string,r().number]).isRequired,value:r().oneOfType([r().string,r().number]).isRequired}).isRequired).isRequired,value:r().string};const Ms=ta;var Os=Object.defineProperty,Mr=Object.getOwnPropertySymbols,Ps=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable,Or=(e,t,n)=>t in e?Os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rs=(e,t)=>{for(var n in t||(t={}))Ps.call(t,n)&&Or(e,n,t[n]);if(Mr)for(var n of Mr(t))xs.call(t,n)&&Or(e,n,t[n]);return e};const na=({description:e,error:t,intlLabel:n,modifiedData:o,name:s,onChange:l,value:u})=>{const{formatMessage:c}=(0,h.useIntl)(),m=(0,a.useRef)(l),g=(o==null?void 0:o.displayName)||"";(0,a.useEffect)(()=>{g?m.current({target:{name:s,value:(0,hr.Z)(g)}}):m.current({target:{name:s,value:""}})},[g,s]);const f=t?c({id:t,defaultMessage:t}):"",p=e?c({id:e.id,defaultMessage:e.defaultMessage},Rs({},e.values)):"",S=c(n);return a.createElement(Wn.o,{error:f,label:S,id:s,hint:p,name:s,onChange:l,value:u||""})};na.defaultProps={description:null,error:null,value:null},na.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,modifiedData:r().object.isRequired,name:r().string.isRequired,onChange:r().func.isRequired,value:r().string};const Ss=na;var As=Object.defineProperty,Fs=Object.defineProperties,Zs=Object.getOwnPropertyDescriptors,Pr=Object.getOwnPropertySymbols,Ns=Object.prototype.hasOwnProperty,Ls=Object.prototype.propertyIsEnumerable,xr=(e,t,n)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rr=(e,t)=>{for(var n in t||(t={}))Ns.call(t,n)&&xr(e,n,t[n]);if(Pr)for(var n of Pr(t))Ls.call(t,n)&&xr(e,n,t[n]);return e},Ds=(e,t)=>Fs(e,Zs(t));const Sr=({form:e,formErrors:t,genericInputProps:n,modifiedData:o,onChange:s})=>{const{formatMessage:l}=(0,h.useIntl)();return e.map((u,c)=>u.items.length===0?null:a.createElement(Q.x,{key:c},u.sectionTitle&&a.createElement(Q.x,{paddingBottom:4},a.createElement(de.Z,{variant:"delta",as:"h3"},l(u.sectionTitle))),a.createElement(vt.r,{gap:4},u.items.map((m,g)=>{const f=`${c}.${g}`,p=k()(o,m.name,""),S=Object.keys(t).find(N=>N===m.name),R=S?t[S].id:k()(t,[...m.name.split(".").filter(N=>N!=="componentToCreate"),"id"],null);return m.type==="pushRight"?a.createElement(tt.P,{col:m.size||6,key:m.name||f},a.createElement("div",null)):a.createElement(tt.P,{col:m.size||6,key:m.name||f},a.createElement(v.GenericInput,Ds(Rr(Rr({},m),n),{error:R,onChange:s,value:p})))}))))};Sr.propTypes={form:r().arrayOf(r().object).isRequired,formErrors:r().object.isRequired,genericInputProps:r().object.isRequired,modifiedData:r().object.isRequired,onChange:r().func.isRequired};const Ar=Sr;var Is=i(64256),js=Object.defineProperty,Fr=Object.getOwnPropertySymbols,ws=Object.prototype.hasOwnProperty,$s=Object.prototype.propertyIsEnumerable,Zr=(e,t,n)=>t in e?js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nr=(e,t)=>{for(var n in t||(t={}))ws.call(t,n)&&Zr(e,n,t[n]);if(Fr)for(var n of Fr(t))$s.call(t,n)&&Zr(e,n,t[n]);return e};const aa=({description:e,disabled:t,error:n,intlLabel:o,labelAction:s,name:l,onChange:u,placeholder:c,value:m})=>{const{formatMessage:g}=(0,h.useIntl)(),f=n?g({id:n,defaultMessage:n}):"",p=e?g({id:e.id,defaultMessage:e.defaultMessage},Nr({},e.values)):"",S=g(o),R=c?g({id:c.id,defaultMessage:c.defaultMessage},Nr({},c.values)):"",N=Array.isArray(m)?m.join(`
`):"",z=_=>{const L=_.target.value.split(`
`);u({target:{name:l,value:L}})};return a.createElement(Is.g,{disabled:t,error:f,label:S,labelAction:s,id:l,hint:p,name:l,onChange:z,placeholder:R,value:N},N)};aa.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},aa.propTypes={description:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),disabled:r().bool,error:r().string,intlLabel:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}).isRequired,labelAction:r().element,name:r().string.isRequired,onChange:r().func.isRequired,placeholder:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired,values:r().object}),value:r().oneOfType([r().array,r().string])};const Bs=aa,zs=(e,t)=>{const n=k()(e,["contentType","schema","kind"],"");return n==="singleType"||n===t.kind?!0:k()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:u,targetAttribute:c})=>{const m=(0,Vn.Z)(l,c);return u==="relation"&&!["oneWay","manyWay"].includes(m)}).length===0},Us=(e="",t,n)=>{const o=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],s=e==="contentType",l=n.includes(t),u=!s&&!l;return s?[[...o,"uid"],["component","dynamiczone"]]:u?[o,["component"]]:[o]},Lr=e=>e.reduce((t,n)=>{const o=n.items.reduce((s,l)=>(l.name&&s.push(l.name),s),[]);return[...t,...o]},[]);var O=i(53209),Wt=i(97392);const qs={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Dr=/^[A-Za-z][-_0-9A-Za-z]*$/,Ws=e=>{const t={name:O.Z_().matches(Dr,v.translatedErrors.regex).test({name:"nameNotAllowed",message:v.translatedErrors.unique,test(n){return n?!e.includes((0,b.toLower)(n)):!1}}).required(v.translatedErrors.required)};return O.Ry(t)},ks=(e,t,n)=>{const o={displayName:O.Z_().test({name:"nameAlreadyUsed",message:v.translatedErrors.unique,test(s){if(!s)return!1;const l=(0,Wt.N)(s,n);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(s){return s?!t.includes((0,b.toLower)((0,b.trim)(s))):!1}}).required(v.translatedErrors.required),category:O.Z_().matches(Dr,v.translatedErrors.regex).required(v.translatedErrors.required),icon:O.Z_()};return O.Ry(o)},ra={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},kt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,d.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},$={default:{name:"default",type:"text",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}};var Vs=Object.defineProperty,Ks=Object.defineProperties,Gs=Object.getOwnPropertyDescriptors,Ir=Object.getOwnPropertySymbols,Hs=Object.prototype.hasOwnProperty,Xs=Object.prototype.propertyIsEnumerable,jr=(e,t,n)=>t in e?Vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oa=(e,t)=>{for(var n in t||(t={}))Hs.call(t,n)&&jr(e,n,t[n]);if(Ir)for(var n of Ir(t))Xs.call(t,n)&&jr(e,n,t[n]);return e},ia=(e,t)=>Ks(e,Gs(t));const Ys={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},component({repeatable:e},t){return t==="1"?{sections:kt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private,$.max,$.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[ia(oa({},$.default),{type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.max,$.min]}]}},email(){return{sections:[{sectionTitle:null,items:[ia(oa({},$.default),{type:"email"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.maxLength,$.minLength,$.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.max,$.min,$.private]}]}},password(){return{sections:[{sectionTitle:null,items:[$.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[$.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}},text(){return{sections:[{sectionTitle:null,items:[$.default,$.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.maxLength,$.minLength,$.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[ia(oa({},$.default),{disabled:Boolean(e.targetField),type:"text"})]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}}},ut={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}};var Js=Object.defineProperty,Qs=Object.defineProperties,_s=Object.getOwnPropertyDescriptors,wr=Object.getOwnPropertySymbols,el=Object.prototype.hasOwnProperty,tl=Object.prototype.propertyIsEnumerable,$r=(e,t,n)=>t in e?Js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nl=(e,t)=>{for(var n in t||(t={}))el.call(t,n)&&$r(e,n,t[n]);if(wr)for(var n of wr(t))tl.call(t,n)&&$r(e,n,t[n]);return e},al=(e,t)=>Qs(e,_s(t));const Br={advanced:Ys,base:{component(e,t){if(t==="1"){const n=e.createComponent===!0?kt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[ra]},...n]}}return{sections:[{sectionTitle:null,items:[ut,{name:"component",type:"select-component",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[ut,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[ut]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[ut]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[ut,{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[ut]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[ut]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const o=n.filter(({type:s})=>["string","text"].includes(s)).map(({name:s})=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}));return{sections:[{sectionTitle:null,items:[al(nl({},ut),{placeholder:{id:(0,d.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}}),{intlLabel:{id:(0,d.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...o]}]}]}}}},rl={sections:[{sectionTitle:null,items:[ut]}]};var ol=i(44908),il=i.n(ol),sl=i(46831),ll=i.n(sl);const sa=e=>ll()(e,{decamelize:!1,lowercase:!1,separator:"_"}),zr=/^[A-Za-z][_0-9A-Za-z]*$/,Ur=e=>({name:"attributeNameAlreadyUsed",message:v.translatedErrors.unique,test(t){return t?!e.includes(t):!1}}),cu=(e,t,n)=>{const o=get(e,["schema","attributes"],{});return Object.keys(o).filter(s=>t?s!==n:!0)},la=e=>({name:"forbiddenAttributeName",message:(0,d.Z)("error.attributeName.reserved-name"),test(t){return t?!e.includes(t):!1}}),E={default:()=>O.Z_().nullable(),max:()=>O.Rx().integer().nullable(),min:()=>O.Rx().integer().when("max",(e,t)=>e?t.max(e,(0,d.Z)("error.validation.minSupMax")):t).nullable(),maxLength:()=>O.Rx().integer().positive((0,d.Z)("error.validation.positive")).nullable(),minLength:()=>O.Rx().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,(0,d.Z)("error.validation.minSupMax")):t).nullable(),name(e,t){return O.Z_().test(Ur(e)).test(la(t)).matches(zr,v.translatedErrors.regex).required(v.translatedErrors.required)},required:()=>O.O7(),type:()=>O.Z_().required(v.translatedErrors.required),unique:()=>O.O7().nullable()},da=(e,t)=>({name:E.name(e,t),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength(),regex:O.Z_().test({name:"isValidRegExpPattern",message:(0,d.Z)("error.validation.regex"),test(o){return new RegExp(o)!==null}}).nullable()}),ua={name:"isMinSuperiorThanMax",message:(0,d.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN((0,b.toNumber)(e))?!0:(0,b.toNumber)(t)>=(0,b.toNumber)(e)}},ca={date(e,t){const n={name:E.name(e,t),type:E.type()};return O.Ry(n)},datetime(e,t){const n={name:E.name(e,t),type:E.type()};return O.Ry(n)},time(e,t){const n={name:E.name(e,t),type:E.type()};return O.Ry(n)},default(e,t){const n={name:E.name(e,t),type:E.type()};return O.Ry(n)},biginteger(e,t){const n={name:E.name(e,t),type:E.type(),default:O.Z_().nullable().matches(/^-?\d*$/),unique:E.unique(),required:E.required(),max:O.Z_().nullable().matches(/^-?\d*$/,v.translatedErrors.regex),min:O.Z_().nullable().test(ua).matches(/^-?\d*$/,v.translatedErrors.regex)};return O.Ry(n)},boolean(e,t){const n={name:E.name(e,t),default:O.O7().nullable(),required:E.required(),unique:E.unique()};return O.Ry(n)},component(e,t){const n={name:E.name(e,t),type:E.type(),required:E.required(),max:E.max(),min:E.min(),component:O.Z_().required(v.translatedErrors.required)};return O.Ry(n)},decimal(e,t){const n={name:E.name(e,t),type:E.type(),default:O.Rx(),required:E.required(),max:O.Rx(),min:O.Rx().test(ua)};return O.Ry(n)},dynamiczone(e,t){const n={name:E.name(e,t),type:E.type(),required:E.required(),max:E.max(),min:E.min()};return O.Ry(n)},email(e,t){const n={name:E.name(e,t),type:E.type(),default:O.Z_().email().nullable(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return O.Ry(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,o={name:O.Z_().test(Ur(e)).test(la(t)).matches(n,v.translatedErrors.regex).required(v.translatedErrors.required),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),enum:O.IX().of(O.Z_()).min(1,v.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,d.Z)("error.validation.enum-duplicate"),test(s){return!il()(s.map(sa).filter((u,c,m)=>m.indexOf(u)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.Z)("error.validation.enum-empty-string"),test:s=>!s.map(sa).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,d.Z)("error.validation.enum-regex"),test:s=>s.map(sa).every(l=>n.test(l))}),enumName:O.Z_().nullable()};return O.Ry(o)},float(e,t){const n={name:E.name(e,t),type:E.type(),required:E.required(),default:O.Rx(),max:O.Rx(),min:O.Rx().test(ua)};return O.Ry(n)},integer(e,t){const n={name:E.name(e,t),type:E.type(),default:O.Rx().integer(),unique:E.unique(),required:E.required(),max:E.max(),min:E.min()};return O.Ry(n)},json(e,t){const n={name:E.name(e,t),type:E.type(),required:E.required(),unique:E.unique()};return O.Ry(n)},media(e,t){const n={name:E.name(e,t),type:E.type(),multiple:O.O7(),required:E.required(),allowedTypes:O.IX().of(O.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return O.Ry(n)},password(e,t){const n={name:E.name(e,t),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return O.Ry(n)},relation(e,t,n,{initialData:o,modifiedData:s}){const l={name:E.name(e,t),target:O.Z_().required(v.translatedErrors.required),relation:O.Z_().required(),type:O.Z_().required(),targetAttribute:O.Vo(()=>{const u=(0,Vn.Z)(s.relation,s.targetAttribute);if(u==="oneWay"||u==="manyWay")return O.Z_().nullable();let c=O.Z_().test(la(t)),g=[...n.map(({name:f})=>f),s.name].filter(f=>f!==o.targetAttribute);return c.matches(zr,v.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!g.includes(f):!1}}).required(v.translatedErrors.required)})};return O.Ry(l)},richtext(e,t){const n={name:E.name(e,t),type:E.type(),default:E.default(),unique:E.unique(),required:E.required(),maxLength:E.maxLength(),minLength:E.minLength()};return O.Ry(n)},string(e,t){const n=da(e,t);return O.Ry(n)},text(e,t){const n=da(e,t);return O.Ry(n)},uid(e,t){const n=da(e,t);return O.Ry(n)}},qr={name:"displayName",type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},ma={advanced:{default(){return{sections:[{sectionTitle:{id:(0,d.Z)("form.contentType.divider.draft-publish"),defaultMessage:"Draft/Publish"},items:[{intlLabel:{id:(0,d.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft/publish system"},description:{id:(0,d.Z)("contentType.draftAndPublish.description"),defaultMessage:"Write a draft version of each entry before publishing it"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[qr,{description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[qr,{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},dl=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:o=[]})=>{const s={displayName:O.Z_().test({name:"nameAlreadyUsed",message:v.translatedErrors.unique,test(l){if(!l)return!1;const u=(0,Wt.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(v.translatedErrors.required),pluralName:O.Z_().test({name:"pluralNameAlreadyUsed",message:v.translatedErrors.unique,test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(v.translatedErrors.required),singularName:O.Z_().test({name:"singularNameAlreadyUsed",message:v.translatedErrors.unique,test(l){return l?!n.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!t.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(v.translatedErrors.required),draftAndPublish:O.O7(),kind:O.Z_().oneOf(["singleType","collectionType"])};return O.Ry(s)},pa={advanced:{default(){return{sections:kt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[ra]},...kt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[ra]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Wr=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items.push(n);return}t.push(n)})},kr=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n);var Vr=i(25108),ul=Object.defineProperty,cl=Object.defineProperties,ml=Object.getOwnPropertyDescriptors,bn=Object.getOwnPropertySymbols,Kr=Object.prototype.hasOwnProperty,Gr=Object.prototype.propertyIsEnumerable,Hr=(e,t,n)=>t in e?ul(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fa=(e,t)=>{for(var n in t||(t={}))Kr.call(t,n)&&Hr(e,n,t[n]);if(bn)for(var n of bn(t))Gr.call(t,n)&&Hr(e,n,t[n]);return e},pl=(e,t)=>cl(e,ml(t)),ga=(e,t)=>{var n={};for(var o in e)Kr.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&bn)for(var o of bn(e))t.indexOf(o)<0&&Gr.call(e,o)&&(n[o]=e[o]);return n};const Ct={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:o,schemaData:s,ctbFormsAPI:l}){const u=kr(e,s),c=ca[t](u,o.attributes);return l.makeCustomFieldValidator(c,n,u,o.attributes,s)},form:{base({customField:e}){var t;const n=[{sectionTitle:null,items:[ut]}];return(t=e.options)!=null&&t.base&&Wr(e.options.base,n),{sections:n}},advanced(e){var t=e,{customField:n,data:o,step:s,extensions:l}=t,u=ga(t,["customField","data","step","extensions"]),c;const m=[{sectionTitle:null,items:[]}],g=l.getAdvancedForm(["attribute",n.type],fa({data:o,type:n.type,step:s},u));if((c=n.options)!=null&&c.advanced&&Wr(n.options.advanced,m),g){const f={sectionTitle:{id:(0,d.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:g};m.push(f)}return{sections:m}}}},attribute:{schema(e,t,n,o,s,l){const u=k()(e,["schema","attributes"],[]),c=kr(u,s);try{let m=ca[t](c,n.attributes,o,s);return l.makeValidator(["attribute",t],m,c,n.attributes,o,s)}catch(m){return Vr.error("Error yup build schema",m),ca.default(c,n.attributes)}},form:{advanced(e){var t=e,{data:n,type:o,step:s,extensions:l}=t,u=ga(t,["data","type","step","extensions"]);try{const c=Br.advanced[o](n,s).sections,m=l.getAdvancedForm(["attribute",o],fa({data:n,type:o,step:s},u));return{sections:c.reduce((f,p)=>(p.sectionTitle===null?f.push(p):f.push(pl(fa({},p),{items:[...p.items,...m]})),f),[])}}catch(c){return Vr.error(c),{sections:[]}}},base({data:e,type:t,step:n,attributes:o}){try{return Br.base[t](e,n,o)}catch(s){return rl}}}},contentType:{schema(e,t,n,o,s,l){const u=Object.values(l).map(S=>S.schema.singularName),c=Object.values(l).map(S=>k()(S,["schema","pluralName"],"")),m=t?e.filter(S=>S!==n):e,g=t?u.filter(S=>k()(l,[n,"schema","singularName"],"")!==S):u,f=t?c.filter(S=>k()(l,[n,"schema","pluralName"],"")!==S):c,p=dl({usedContentTypeNames:m,reservedModels:o.models,singularNames:g,pluralNames:f});return s.makeValidator(["contentType"],p,m,o.models,g,f)},form:{base({actionType:e}){return e==="create"?ma.base.create():ma.base.edit()},advanced(e){var t=e,{extensions:n}=t,o=ga(t,["extensions"]);const s=ma.advanced.default(o).sections,l=n.getAdvancedForm(["contentType"]);return{sections:[...s,{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:l}]}}}},component:{schema(e,t,n,o=!1,s=null){const l=o?e.filter(u=>u!==s):e;return ks(l,n.models,t)},form:{advanced(){return{sections:kt.advanced()}},base(){return{sections:kt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return pa.advanced.default()},base({data:e}){return k()(e,"createComponent",!1)?pa.base.createComponent():pa.base.default()}}},editCategory:{schema(e,t){const n=e.filter(o=>o!==t.name).map(o=>et()(o));return Ws(n)},form:{advanced:()=>({sections:[]}),base(){return qs.base}}}};var Xr=i(20573),fl=i(88372);const gl=()=>e=>e[`${M.Z}_formModal`]||fl.E,yl=()=>(0,Xr.P1)(gl(),e=>e);var Yr=i(25108),vl=Object.defineProperty,bl=Object.defineProperties,hl=Object.getOwnPropertyDescriptors,hn=Object.getOwnPropertySymbols,Jr=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable,_r=(e,t,n)=>t in e?vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vt=(e,t)=>{for(var n in t||(t={}))Jr.call(t,n)&&_r(e,n,t[n]);if(hn)for(var n of hn(t))Qr.call(t,n)&&_r(e,n,t[n]);return e},En=(e,t)=>bl(e,hl(t)),Tn=(e,t)=>{var n={};for(var o in e)Jr.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&hn)for(var o of hn(e))t.indexOf(o)<0&&Qr.call(e,o)&&(n[o]=e[o]);return n},eo=(e,t,n)=>new Promise((o,s)=>{var l=m=>{try{c(n.next(m))}catch(g){s(g)}},u=m=>{try{c(n.throw(m))}catch(g){s(g)}},c=m=>m.done?o(m.value):Promise.resolve(m.value).then(l,u);c((n=n.apply(e,t)).next())});const El=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:o,actionType:s,attributeName:l,attributeType:u,customFieldUid:c,categoryName:m,dynamicZoneTarget:g,forTarget:f,modalType:p,isOpen:S,kind:R,step:N,targetUid:z}=(0,H.Z)(),_=(0,v.useCustomFields)().get(c),L=(0,a.useRef)(),q=(0,a.useMemo)(yl,[]),P=(0,X.useDispatch)(),ue=(0,v.useNotification)(),pe=(0,X.useSelector)(Ce=>q(Ce),X.shallowEqual),{push:ve}=(0,y.useHistory)(),{trackUsage:V}=(0,v.useTracking)(),{formatMessage:ce}=(0,h.useIntl)(),{getPlugin:ge}=(0,v.useStrapiApp)(),be=ge(M.Z).apis.forms,Ot=be.components.inputs,{addAttribute:He,addCustomFieldAttribute:me,addCreatedComponentToDynamicZone:Pe,allComponentsCategories:he,changeDynamicZoneComponents:w,contentTypes:Gt,components:en,createSchema:Ht,deleteCategory:Ca,deleteData:On,editCategory:Ma,editCustomFieldAttribute:Oa,submitData:Pa,modifiedData:ze,nestedComponents:Pn,setModifiedData:xa,sortedContentTypesList:Ra,updateSchema:Sa,reservedNames:nt}=(0,K.Z)(),{componentToCreate:tn,formErrors:W,initialData:B,isCreatingComponentWhileAddingAField:ae,modifiedData:F}=pe,Me=f==="contentType"||f==="component"?[f]:[f,z];(0,a.useEffect)(()=>{if(S){const Ce=Ra.filter(Ve);p==="editCategory"&&xa(),s==="edit"&&p==="attribute"&&f==="contentType"&&V("willEditFieldOfContentType");const Ue=[...Me,"schema","attributes"],Rt=_n(k()(ze,Ue,[]),g)||null;if(p==="editCategory"&&s==="edit"&&P({type:Ae._H,modalType:p,actionType:s,data:{name:m}}),p==="contentType"&&s==="create"&&P({type:Ae._H,modalType:p,actionType:s,data:{draftAndPublish:!0},pluginOptions:{}}),p==="contentType"&&s==="edit"){const{displayName:Oe,draftAndPublish:Ne,kind:xe,pluginOptions:ke,pluralName:Je,singularName:rt}=k()(ze,[...Me,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});P({type:Ae._H,actionType:s,modalType:p,data:{displayName:Oe,draftAndPublish:Ne,kind:xe,pluginOptions:ke,pluralName:Je,singularName:rt}})}if(p==="component"&&s==="edit"){const Oe=k()(ze,Me,{});P({type:Ae._H,actionType:s,modalType:p,data:{displayName:Oe.schema.displayName,category:Oe.category}})}if(p==="addComponentToDynamicZone"&&s==="edit"){const Oe=En(Vt({},Rt),{components:[],name:g,createComponent:!1,componentToCreate:{type:"component"}});P({type:Ae.VZ,attributeToEdit:Oe})}if(u){const Oe=_n(k()(ze,Ue,[]),l),Ne=En(Vt({},Oe),{name:l});u==="component"&&s==="edit"&&(Ne.repeatable||ct()(Ne,"repeatable",!1)),P(p==="customField"?{type:Ae.OY,customField:_,isEditing:s==="edit",modifiedDataToSetForEditing:Ne,forTarget:f}:{type:Ae.S0,attributeType:u,nameToSetForRelation:k()(Ce,["0","title"],"error"),targetUid:k()(Ce,["0","uid"],"error"),isEditing:s==="edit",modifiedDataToSetForEditing:Ne,step:N,forTarget:f})}}else P({type:Ae.c2})},[s,l,u,m,g,f,S,p]);const Xe=p==="contentType",Pt=p==="component",at=p==="attribute",nn=p==="customField",xo=u==="component"&&at,an=s==="create",xt=k()(F,"createComponent",!1)||ae,Xt=N==="1",Ro=p==="editCategory",So=p==="chooseAttribute",Aa=(0,Wt.E)(F.displayName||""),Fa=k()(ze,[...Me,"schema","attributes"],null),Ld=()=>eo(void 0,null,function*(){var Ce;let Ue;const Rt=xt&&N==="1"?k()(F,"componentToCreate",{}):F;if(Xe)Ue=Ct.contentType.schema(Object.keys(Gt),s==="edit",k()(ze,[...Me,"uid"],null),nt,be,Gt);else if(Pt)Ue=Ct.component.schema(Object.keys(en),F.category||"",nt,s==="edit",k()(ze,[...Me,"uid"],null),be);else if(nn)Ue=Ct.customField.schema({schemaAttributes:k()(ze,[...Me,"schema","attributes"],[]),attributeType:_.type,reservedNames:nt,schemaData:{modifiedData:F,initialData:B},ctbFormsAPI:be,customFieldValidator:(Ce=_.options)==null?void 0:Ce.validator});else if(xo&&xt&&Xt)Ue=Ct.component.schema(Object.keys(en),k()(F,"componentToCreate.category",""),nt,be);else if(at&&!Xt){const Oe=u==="relation"?"relation":F.type;let Ne=[];if(Oe==="relation"){const xe=k()(F,["target"],null);Ne=k()(Gt,[xe,"schema","attributes"],[]).filter(({name:Je})=>s!=="edit"?!0:Je!==B.targetAttribute)}Ue=Ct.attribute.schema(k()(ze,Me,{}),Oe,nt,Ne,{modifiedData:F,initialData:B},be)}else if(Ro)Ue=Ct.editCategory.schema(he,B,be);else if(Xt&&xt)Ue=Ct.component.schema(Object.keys(en),k()(F,"componentToCreate.category",""),nt,be);else return;yield Ue.validate(Rt,{abortEarly:!1})}),Ao=(0,a.useCallback)(Ce=>{var{target:Ue}=Ce,Rt=Ue,{name:Oe,value:Ne,type:xe}=Rt,ke=Tn(Rt,["name","value","type"]);const Je=["enumName","max","min","maxLength","minLength","regex","default"];let rt;Je.includes(Oe)&&Ne===""?rt=null:rt=Ne;const ot=Object.assign({},W);Oe==="max"&&delete ot.min,Oe==="maxLength"&&delete ot.minLength,delete ot[Oe],P({type:Ae.Ey,errors:ot}),P(Vt({type:Ae.P0,keys:Oe.split("."),value:rt},ke))},[P,W]),Ye=(Ce,...Ue)=>eo(void 0,[Ce,...Ue],function*(Rt,Oe=an){Rt.preventDefault();try{yield Ld(),jd(Oe);const Ne=f==="components"?z:Aa;if(Xe)if(an)Ht(En(Vt({},F),{kind:R}),p,Aa),ve({pathname:`/plugins/${M.Z}/content-types/${Aa}`}),t({forTarget:f,targetUid:Ne});else{zs(ze,F)?(e(),Pa(F)):ue({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(p==="component")if(an){const xe=(0,Wt.N)(F.displayName,F.category),ke=F,{category:Je}=ke,rt=Tn(ke,["category"]);Ht(rt,"component",xe,Je),ve({pathname:`/plugins/${M.Z}/component-categories/${Je}/${xe}`}),t({forTarget:f,targetUid:xe})}else{Sa(F,p,z),e();return}else if(Ro){if(et()(B.name)===et()(F.name)){e();return}Ma(B.name,F);return}else if(nn){const xe={attributeToSet:En(Vt({},F),{customField:c}),forTarget:f,targetUid:z,initialAttribute:B};s==="edit"?Oa(xe):me(xe),Oe?t({forTarget:f,targetUid:Ne}):e();return}else if(at&&!xt){if(u==="dynamiczone"){He(F,f,z,s==="edit",B),an?(P({type:Ae.I}),L.current._handlers.setSelectedTabIndex(0),n({dynamicZoneTarget:F.name})):e();return}if(!xo){He(F,f,z,s==="edit",B),Oe?t({forTarget:f,targetUid:Ne}):e();return}if(Xt){o(),P({type:Ae.yC,forTarget:f});return}He(F,f,z,s==="edit",B,!0),Oe?t({forTarget:f,targetUid:z}):e()}else if(at&&xt){if(Xt){V("willCreateComponentFromAttributesModal"),P({type:Ae.oF,forTarget:f}),o();return}const xe=tn,{category:ke,type:Je}=xe,rt=Tn(xe,["category","type"]),ot=(0,Wt.N)(tn.displayName,ke);Ht(rt,Je,ot,ke,xt),He(F,f,z,!1),P({type:Ae.c2}),Oe?t({forTarget:"components",targetUid:ot}):e();return}else{if(Xt)if(xt){const xe=F.componentToCreate,{category:ke,type:Je}=xe,rt=Tn(xe,["category","type"]),ot=(0,Wt.N)(F.componentToCreate.displayName,ke);Ht(rt,Je,ot,ke,xt),Pe(g,[ot]),t({forTarget:"components",targetUid:ot})}else w(g,F.components),e();else Yr.error("This case is not handled");return}P({type:Ae.c2})}catch(Ne){const xe=(0,v.getYupInnerErrors)(Ne);Yr.log({err:Ne,errors:xe}),P({type:Ae.Ey,errors:xe})}}),Dd=()=>{window.confirm(ce({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),P({type:Ae.c2}))},Fo=()=>{(0,b.isEqual)(F,B)?(e(),P({type:Ae.c2})):Dd()},Id=Ce=>{if(Ce==="advanced"){if(Xe){V("didSelectContentTypeSettings");return}f==="contentType"&&V("didSelectContentTypeFieldSettings")}},jd=Ce=>{p==="attribute"&&f==="contentType"&&u!=="dynamiczone"&&Ce&&V("willAddMoreFieldToContentType")},wd=()=>!!(p==="editCategory"||p==="component"||_e()(F,"createComponent")),$d=Us(f,z,Pn);if(!S||!p)return null;const Zo=k()(Ct,[p,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Bd=f==="components"||f==="component",No={customInputs:Vt({"allowed-types-select":Ft,"boolean-radio-group":ei,"checkbox-with-number-field":hi,"content-type-radio-group":xi,"radio-group":Un,relation:cs,"select-category":hs,"select-component":Es,"select-components":Ts,"select-default-boolean":Vo,"select-number":Ms,"select-date":Cs,"toggle-draft-publish":jo,"text-plural":ys,"text-singular":Ss,"textarea-enum":Bs},Ot),componentToCreate:tn,dynamicZoneTarget:g,formErrors:W,isAddingAComponentToAnotherComponent:Bd,isCreatingComponentWhileAddingAField:ae,mainBoxHeader:k()(ze,[...Me,"schema","displayName"],""),modifiedData:F,naturePickerType:f,isCreating:an,targetUid:z,forTarget:f},Lo=Zo.advanced({data:F,type:u,step:N,actionType:s,attributes:Fa,extensions:be,forTarget:f,contentTypeSchema:ze.contentType||{},customField:_}).sections,Do=Zo.base({data:F,type:u,step:N,actionType:s,attributes:Fa,extensions:be,forTarget:f,contentTypeSchema:ze.contentType||{},customField:_}).sections,zd=Lr(Do),Ud=Lr(Lo),qd=Object.keys(W).some(Ce=>zd.includes(Ce)),Wd=Object.keys(W).some(Ce=>Ud.includes(Ce)),kd=k()(Gt,[z,"schema","kind"]),Vd=()=>s==="edit"&&Fa.every(({name:Ce})=>Ce!==(F==null?void 0:F.name)),Kd=()=>{Vd()&&V("didEditFieldNameOnContentType")};return a.createElement(Dt.P,{onClose:Fo,labelledBy:"title"},a.createElement(wo,{actionType:s,attributeName:l,categoryName:m,contentTypeKind:R,dynamicZoneTarget:g,modalType:p,forTarget:f,targetUid:z,attributeType:u,customFieldUid:c}),So&&a.createElement(dt,{attributes:$d,forTarget:f,kind:kd||"collectionType"}),!So&&a.createElement("form",{onSubmit:Ye},a.createElement(St.f,null,a.createElement(gt.v,{label:"todo",id:"tabs",variant:"simple",ref:L,onTabChange:Ce=>{Ce===1&&Id("advanced")}},a.createElement(fe.k,{justifyContent:"space-between"},a.createElement(zo,{actionType:s,forTarget:f,kind:R,step:N,modalType:p,attributeType:u,attributeName:l,customField:_}),a.createElement(st.m,null,a.createElement(st.O,{hasError:qd},ce({id:(0,d.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),a.createElement(st.O,{hasError:Wd,disabled:wd()},ce({id:(0,d.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),a.createElement(ft.i,null),a.createElement(Q.x,{paddingTop:6},a.createElement($e.n,null,a.createElement($e.x,null,a.createElement(Z.K,{spacing:6},a.createElement(Ar,{form:Do,formErrors:W,genericInputProps:No,modifiedData:F,onChange:Ao}))),a.createElement($e.x,null,a.createElement(Z.K,{spacing:6},a.createElement(Ar,{form:Lo,formErrors:W,genericInputProps:No,modifiedData:F,onChange:Ao}))))))),a.createElement(It.m,{endActions:a.createElement($o,{deleteCategory:Ca,deleteContentType:On,deleteComponent:On,categoryName:B.name,isAttributeModal:p==="attribute",isCustomFieldModal:p==="customField",isComponentToDzModal:p==="addComponentToDynamicZone",isComponentAttribute:u==="component",isComponentModal:p==="component",isContentTypeModal:p==="contentType",isCreatingComponent:s==="create",isCreatingDz:s==="create",isCreatingComponentAttribute:F.createComponent||!1,isCreatingComponentInDz:F.createComponent||!1,isCreatingComponentWhileAddingAField:ae,isCreatingContentType:s==="create",isEditingAttribute:s==="edit",isDzAttribute:u==="dynamiczone",isEditingCategory:p==="editCategory",isInFirstComponentStep:N==="1",onSubmitAddComponentAttribute:Ye,onSubmitAddComponentToDz:Ye,onSubmitCreateComponent:Ye,onSubmitCreateContentType:Ye,onSubmitCreateDz:Ye,onSubmitEditAttribute:Ye,onSubmitEditCategory:Ye,onSubmitEditComponent:Ye,onSubmitEditContentType:Ye,onSubmitEditCustomFieldAttribute:Ye,onSubmitEditDz:Ye,onClickFinish:Kd}),startActions:a.createElement(se.z,{variant:"tertiary",onClick:Fo},ce({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},to=e=>e.reduce((t,n)=>(t[n.uid]=n,t),{}),Tl=(e,t,n,o)=>{const s=t.reduce((c,m)=>{const g=k()(n,m,{});return c[m]=g,c},{});return{[o?"contentType":"component"]:e,components:s}},Cl=(e,t)=>{const n=Object.keys(e).map(o=>(0,b.get)(e,[o,...t],""));return(0,j.Z)(n)};var Ml=i(19525);const Ol=e=>{const t=Object.keys(e).reduce((n,o)=>{const s=(0,b.get)(e,[o,"schema","attributes"],[]),l=Pl(s);return[...n,...l]},[]);return(0,j.Z)(t)},Pl=e=>e.reduce((t,n)=>{const{type:o,component:s}=n;return o==="component"&&t.push(s),t},[]),no=Ol,xl=e=>{const t=Object.keys(e).reduce((n,o)=>{const s=k()(e,[o],{}),l=s.uid;return Rl(s)&&n.push(l),n},[]);return(0,j.Z)(t)},Rl=e=>k()(e,["schema","attributes"],[]).some(n=>{const{type:o}=n;return o==="component"});var Sl=Object.defineProperty,Al=Object.defineProperties,Fl=Object.getOwnPropertyDescriptors,Cn=Object.getOwnPropertySymbols,ao=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,oo=(e,t,n)=>t in e?Sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zl=(e,t)=>{for(var n in t||(t={}))ao.call(t,n)&&oo(e,n,t[n]);if(Cn)for(var n of Cn(t))ro.call(t,n)&&oo(e,n,t[n]);return e},Nl=(e,t)=>Al(e,Fl(t)),Ll=(e,t)=>{var n={};for(var o in e)ao.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Cn)for(var o of Cn(e))t.indexOf(o)<0&&ro.call(e,o)&&(n[o]=e[o]);return n};const Dl=(e,t)=>{const n=Object.keys(e).filter(o=>{const s=(0,b.get)(e,o,{}),l=(0,b.get)(t,o,{}),u=(0,b.get)(s,["isTemporary"],!1),c=!(0,b.isEqual)(s,l);return u||c});return(0,j.Z)(n)},Il=(e,t)=>{const n=so((0,b.get)(e,"schema.attributes",[]),t),o=(0,b.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},o,{category:e.category},(0,b.omit)(e.schema,"attributes"),{attributes:n})},io=(e,t=!1)=>{const n=(0,b.get)(e,"uid",null),o=so((0,b.get)(e,"schema.attributes",[]),n),s=t?{category:(0,b.get)(e,"category","")}:{},l=Object.assign(s,(0,b.omit)(e.schema,"attributes"),{attributes:o});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},so=(e,t)=>e.reduce((n,o)=>{var s=o,{name:l}=s,u=Ll(s,["name"]);const c=u,m=c.target===t,g=c.type==="relation",f=(0,b.get)(c,"targetAttribute",null);if(!m)if(g){const p=Object.assign({},c,{targetAttribute:lo(f)});n[l]=Mn(p)}else n[l]=Mn(c);if(m){const p=c.target,S=Object.assign({},c,{target:p,targetAttribute:lo(f)});n[l]=Mn(S)}if(c.customField){const p=Nl(Zl({},c),{type:"customField"});n[l]=Mn(p)}return n},{}),lo=e=>e==="-"?null:e,Mn=e=>Object.keys(e).reduce((t,n)=>(e[n]!==null&&n!=="plugin"&&(t[n]=e[n]),t),{}),jl=(e,t,n,o=!1)=>Dl(e,t).map(u=>{const c=(0,b.get)(e,u,{});return Il(c,n,o)}),wl=e=>(0,b.sortBy)(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${M.Z}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>(0,b.camelCase)(t.title)),uo="did-not-kill-server",$l="server is down";function Qt(e,t){return new Promise(n=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(o=>{if(o.status>=400)throw new Error($l);if(!t)throw new Error(uo);n(e)}).catch(o=>{setTimeout(()=>Qt(e,o.message!==uo).then(n),100)})})}const Bl=e=>Object.values(e.attributes).filter(({type:n})=>n==="dynamiczone").every(({components:n})=>Array.isArray(n)&&n.length>0);var we=i(92407),zl=i(87431);const Ul=()=>e=>e[`${M.Z}_dataManagerProvider`]||zl.E,ql=()=>(0,Xr.P1)(Ul(),e=>e);var Wl=Object.defineProperty,kl=Object.defineProperties,Vl=Object.getOwnPropertyDescriptors,co=Object.getOwnPropertySymbols,Kl=Object.prototype.hasOwnProperty,Gl=Object.prototype.propertyIsEnumerable,mo=(e,t,n)=>t in e?Wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ya=(e,t)=>{for(var n in t||(t={}))Kl.call(t,n)&&mo(e,n,t[n]);if(co)for(var n of co(t))Gl.call(t,n)&&mo(e,n,t[n]);return e},va=(e,t)=>kl(e,Vl(t));const Hl=e=>Object.keys(e).reduce((t,n)=>{const o=e[n].schema;return t[n]=va(ya({},e[n]),{schema:va(ya({},o),{attributes:Xl(o.attributes)})}),t},{}),Xl=e=>Object.keys(e).reduce((t,n)=>(t.push(va(ya({},e[n]),{name:n})),t),[]),po=Hl;var _t=i(25108),Yl=Object.defineProperty,fo=Object.getOwnPropertySymbols,Jl=Object.prototype.hasOwnProperty,Ql=Object.prototype.propertyIsEnumerable,go=(e,t,n)=>t in e?Yl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yo=(e,t)=>{for(var n in t||(t={}))Jl.call(t,n)&&go(e,n,t[n]);if(fo)for(var n of fo(t))Ql.call(t,n)&&go(e,n,t[n]);return e},Kt=(e,t,n)=>new Promise((o,s)=>{var l=m=>{try{c(n.next(m))}catch(g){s(g)}},u=m=>{try{c(n.throw(m))}catch(g){s(g)}},c=m=>m.done?o(m.value):Promise.resolve(m.value).then(l,u);c((n=n.apply(e,t)).next())});const ba=({children:e,components:t,contentTypes:n,isLoading:o,isLoadingForDataToBeSet:s,initialData:l,modifiedData:u,reservedNames:c})=>{const m=(0,X.useDispatch)(),g=(0,v.useNotification)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:p}=(0,v.useAutoReloadOverlayBlocker)(),{setCurrentStep:S}=(0,v.useGuidedTour)(),{getPlugin:R}=(0,v.useStrapiApp)(),{apis:N}=R(M.Z),{autoReload:z}=(0,v.useAppInfos)(),{formatMessage:_}=(0,h.useIntl)(),{trackUsage:L}=(0,v.useTracking)(),{refetchPermissions:q}=(0,v.useRBACProvider)(),{pathname:P}=(0,y.useLocation)(),{onCloseModal:ue}=(0,H.Z)(),pe=(0,y.useRouteMatch)(`/plugins/${M.Z}/content-types/:uid`),ve=(0,y.useRouteMatch)(`/plugins/${M.Z}/component-categories/:categoryUid/:componentUid`),V=(0,a.useRef)();V.current=_;const ce=z,ge=pe!==null,Mt=ge?"contentType":"component",be=ge?(0,b.get)(pe,"params.uid",null):(0,b.get)(ve,"params.componentUid",null),Ot=(0,a.useRef)(),He=ge?"content-types":"components";Ot.current=()=>Kt(void 0,null,function*(){try{const[{data:{data:W}},{data:{data:B}},{data:ae}]=yield Promise.all(["components","content-types","reserved-names"].map(at=>x.get(at))),F=to(W),Me=po(F),Xe=to(B),Pt=po(Xe);m({type:we.Id,components:Me,contentTypes:Pt,reservedNames:ae})}catch(W){_t.error({err:W}),g({type:"warning",message:{id:"notification.error"}})}}),(0,a.useEffect)(()=>(Ot.current(),()=>{m({type:we.Zl})}),[]),(0,a.useEffect)(()=>{!o&&be&&Pn()},[o,P,be]),(0,a.useEffect)(()=>{z||g({type:"info",message:{id:(0,d.Z)("notification.info.autoreaload-disable")}})},[z,g]);const me=(W,B,ae,F=!1,Me,Xe=!1)=>{const Pt=F?we.JO:we.gz;m({type:Pt,attributeToSet:W,forTarget:B,targetUid:ae,initialAttribute:Me,shouldAddComponentToData:Xe})},Pe=({attributeToSet:W,forTarget:B,targetUid:ae,initialAttribute:F})=>{m({type:we.Ir,attributeToSet:W,forTarget:B,targetUid:ae,initialAttribute:F})},he=({attributeToSet:W,forTarget:B,targetUid:ae,initialAttribute:F})=>{m({type:we.Ly,attributeToSet:W,forTarget:B,targetUid:ae,initialAttribute:F})},w=(W,B)=>{m({type:we.Uu,dynamicZoneTarget:W,componentsToAdd:B})},Gt=(W,B,ae,F,Me=!1)=>{const Xe=B==="contentType"?we.Sh:we.VR;m({type:Xe,data:W,componentCategory:F,schemaType:B,uid:ae,shouldAddComponentToData:Me})},en=(W,B)=>{m({type:we.o_,dynamicZoneTarget:W,newComponents:B})},Ht=(W,B,ae="")=>{const F=W==="components"?we.lw:we.ai;W==="contentType"&&L("willDeleteFieldOfContentType"),m({type:F,mainDataKey:W,attributeToRemoveName:B,componentUid:ae})},Ca=W=>Kt(void 0,null,function*(){try{const B=`/component-categories/${W}`,ae=window.confirm(_({id:(0,d.Z)("popUpWarning.bodyMessage.category.delete")}));ue(),ae&&(f(),yield x.delete(B),yield Qt(!0),yield p(),yield nt())}catch(B){_t.error({err:B}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}}),On=()=>Kt(void 0,null,function*(){try{const W=`/${He}/${be}`,B=(0,b.get)(u,[Mt,"isTemporary"],!1),ae=window.confirm(_({id:(0,d.Z)(`popUpWarning.bodyMessage.${ge?"contentType":"component"}.delete`)}));if(ue(),ae){if(B){m({type:we.Ap});return}f(),yield x.delete(W),yield Qt(!0),yield p(),yield nt()}}catch(W){_t.error({err:W}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Ma=(W,B)=>Kt(void 0,null,function*(){try{const ae=`/component-categories/${W}`;ue(),f(),yield x.put(ae,B),yield Qt(!0),yield p(),yield nt()}catch(ae){_t.error({err:ae}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}}),Oa=()=>{const W=Object.assign({},t,u.components);if(!ge){const ae=(0,b.get)(u,"component",{});(0,b.set)(W,(0,b.get)(ae,["uid"],""),ae)}const B=xl(W);return(0,j.Z)(B)},Pa=()=>{const W=no(t),B=no(u.components||{});return(0,j.Z)([...B,...W])},ze=(W,B)=>{m({type:we.NG,dzName:W,componentToRemoveIndex:B})},Pn=()=>{const W=ge?n:t,B=(0,b.get)(W,be,{schema:{attributes:[]}}),ae=(0,Ml.Z)(B.schema.attributes,t),F=Tl(B,ae,t,ge),Me=(0,b.get)(B,"isTemporary",!1)&&(0,b.size)((0,b.get)(B,"schema.attributes",[]))===0;m({type:we.xx,schemaToSet:F,hasJustCreatedSchema:Me})},xa=(0,a.useMemo)(()=>{const W=ge?n:t;return be==="create-content-type"?!1:!Object.keys(W).includes(be)&&!o},[t,n,be,ge,o]),Ra=(0,a.useMemo)(()=>{const W=Object.keys(n).filter(B=>(0,b.get)(n,[B,"schema","visible"],!0)).sort();return(0,b.get)(W,"0","create-content-type")},[n]);if(xa)return a.createElement(y.Redirect,{to:`/plugins/${M.Z}/content-types/${Ra}`});const Sa=W=>Kt(void 0,null,function*(){var B,ae;try{const F=(0,b.get)(u,[Mt,"isTemporary"],!1),Me={components:jl(u.components,t,be,F)};if(ge){const at=N.forms.mutateContentTypeSchema(yo(yo({},io(u.contentType)),W),l.contentType);if(!Bl(at)){g({type:"warning",message:{id:(0,d.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}Me.contentType=at,L("willSaveContentType")}else Me.component=io(u.component,!0),L("willSaveComponent");f();const Xe=`/${He}`,Pt=F?Xe:`${Xe}/${be}`;if(F?yield x.post(Pt,Me):yield x.put(Pt,Me),yield Qt(!0),yield p(),F&&(((B=l.contentType)==null?void 0:B.schema.kind)==="collectionType"||((ae=l.contentType)==null?void 0:ae.schema.kind)==="singleType")&&S("contentTypeBuilder.success"),ge){L("didSaveContentType");const at=(0,b.get)(Me,["contentType","schema","name"],""),nn=(0,b.get)(l,["contentType","schema","name"],"");!F&&at!==nn&&L("didEditNameOfContentType")}else L("didSaveComponent");yield nt()}catch(F){ge||L("didNotSaveComponent"),_t.error({err:F.response}),g({type:"warning",message:{id:"notification.error"}})}finally{p()}}),nt=()=>Kt(void 0,null,function*(){yield q()}),tn=(W,B,ae)=>{m({type:we.bi,data:W,schemaType:B,uid:ae})};return a.createElement(G.Z.Provider,{value:{addAttribute:me,addCustomFieldAttribute:Pe,addCreatedComponentToDynamicZone:w,allComponentsCategories:Cl(t,["category"]),changeDynamicZoneComponents:en,components:t,componentsGroupedByCategory:(0,b.groupBy)(t,"category"),componentsThatHaveOtherComponentInTheirAttributes:Oa(),contentTypes:n,createSchema:Gt,deleteCategory:Ca,deleteData:On,editCategory:Ma,editCustomFieldAttribute:he,isInDevelopmentMode:ce,initialData:l,isInContentTypeView:ge,modifiedData:u,nestedComponents:Pa(),removeAttribute:Ht,removeComponentFromDynamicZone:ze,reservedNames:c,setModifiedData:Pn,sortedContentTypesList:wl(n),submitData:Sa,updateSchema:tn}},s?a.createElement(v.LoadingIndicatorPage,null):a.createElement(a.Fragment,null,e,ce&&a.createElement(El,null)))};ba.defaultProps={components:{}},ba.propTypes={children:r().node.isRequired,components:r().object,contentTypes:r().object.isRequired,isLoading:r().bool.isRequired,isLoadingForDataToBeSet:r().bool.isRequired,initialData:r().object.isRequired,modifiedData:r().object.isRequired,reservedNames:r().object.isRequired};const _l=ql(),ed=(0,X.connect)(_l,null),td=(0,ne.compose)(ed)((0,a.memo)(ba));var nd=i(98422);const vo={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null};var ad=Object.defineProperty,rd=Object.defineProperties,od=Object.getOwnPropertyDescriptors,bo=Object.getOwnPropertySymbols,id=Object.prototype.hasOwnProperty,sd=Object.prototype.propertyIsEnumerable,ho=(e,t,n)=>t in e?ad(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qe=(e,t)=>{for(var n in t||(t={}))id.call(t,n)&&ho(e,n,t[n]);if(bo)for(var n of bo(t))sd.call(t,n)&&ho(e,n,t[n]);return e},We=(e,t)=>rd(e,od(t));const Eo=({children:e})=>{const[t,n]=(0,a.useState)(vo),{trackUsage:o}=(0,v.useTracking)(),s=({attributeType:L,customFieldUid:q})=>{n(P=>We(qe({},P),{actionType:"create",modalType:"customField",attributeType:L,customFieldUid:q}))},l=({attributeType:L,step:q})=>{t.forTarget==="contentType"&&o("didSelectContentTypeFieldType",{type:L}),n(P=>We(qe({},P),{actionType:"create",modalType:"attribute",step:q,attributeType:L}))},u=({dynamicZoneTarget:L,targetUid:q})=>{n(P=>We(qe({},P),{dynamicZoneTarget:L,targetUid:q,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:L,targetUid:q})=>{n(P=>We(qe({},P),{actionType:"create",forTarget:L,targetUid:q,modalType:"chooseAttribute",isOpen:!0}))},m=L=>{n(q=>We(qe(qe({},q),L),{isOpen:!0}))},g=L=>{n(q=>We(qe({},q),{categoryName:L,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:L,targetUid:q,attributeName:P,attributeType:ue,customFieldUid:pe})=>{n(ve=>We(qe({},ve),{modalType:"customField",customFieldUid:pe,actionType:"edit",forTarget:L,targetUid:q,attributeName:P,attributeType:ue,isOpen:!0}))},p=({forTarget:L,targetUid:q,attributeName:P,attributeType:ue,step:pe})=>{n(ve=>We(qe({},ve),{modalType:"attribute",actionType:"edit",forTarget:L,targetUid:q,attributeName:P,attributeType:ue,step:pe,isOpen:!0}))},S=({modalType:L,forTarget:q,targetUid:P,kind:ue})=>{n(pe=>We(qe({},pe),{modalType:L,actionType:"edit",forTarget:q,targetUid:P,kind:ue,isOpen:!0}))},R=()=>{n(vo)},N=({forTarget:L,targetUid:q})=>{n(P=>We(qe({},P),{forTarget:L,targetUid:q,modalType:"chooseAttribute"}))},z=()=>{n(L=>We(qe({},L),{attributeType:"component",modalType:"attribute",step:"2"}))},_=({dynamicZoneTarget:L})=>{n(q=>We(qe({},q),{dynamicZoneTarget:L,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return a.createElement(nd.Z.Provider,{value:We(qe({},t),{onClickSelectField:l,onClickSelectCustomField:s,onCloseModal:R,onNavigateToChooseAttributeModal:N,onNavigateToAddCompoToDZModal:_,onOpenModalAddComponentsToDZ:u,onNavigateToCreateComponentStep2:z,onOpenModalAddField:c,onOpenModalCreateSchema:m,onOpenModalEditCategory:g,onOpenModalEditField:p,onOpenModalEditCustomField:f,onOpenModalEditSchema:S,setFormModalNavigationState:n})},e)};Eo.propTypes={children:r().node.isRequired};const ld=Eo,dd=(0,a.lazy)(()=>i.e(5905).then(i.bind(i,76761))),ud=()=>{const{url:e}=(0,y.useRouteMatch)(),{categoryUid:t}=(0,y.useParams)();return a.createElement(a.Suspense,{fallback:a.createElement(v.LoadingIndicatorPage,null)},a.createElement(y.Switch,null,a.createElement(y.Route,{path:`${e}/:componentUid`},a.createElement(dd,{categoryId:t}))))};var cd=i(53192),md=i(38702),pd=i(34446),fd=i(29489);const gd=(0,Le.default)(Q.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,yd=Le.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,vd=Le.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,ha=({label:e,children:t,id:n})=>{const[o,s]=(0,a.useState)(!0),l=(0,Wa.M)("subnav-list",n),u=()=>{s(c=>!c)};return a.createElement(Q.x,null,a.createElement(gd,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},a.createElement(fe.k,{justifyContent:"space-between"},a.createElement(yd,{onClick:u,"aria-expanded":o,"aria-controls":l},a.createElement(vd,{rotated:o},a.createElement(qn.default,{"aria-hidden":!0})),a.createElement(Q.x,{paddingLeft:2},a.createElement(de.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},e))))),o&&a.createElement("ul",{id:l},a.Children.map(t,(c,m)=>a.createElement("li",{key:m},c))))};ha.defaultProps={id:void 0},ha.propTypes={children:D.node.isRequired,id:D.string,label:D.string.isRequired};var To=i(52305),bd=i(39785),hd=i(41609),Ed=i.n(hd),Td=i(89734),Co=i.n(Td),Cd=i(18446),Md=i.n(Cd),Od=i(63852),Pd=Object.defineProperty,xd=Object.defineProperties,Rd=Object.getOwnPropertyDescriptors,Mo=Object.getOwnPropertySymbols,Sd=Object.prototype.hasOwnProperty,Ad=Object.prototype.propertyIsEnumerable,Oo=(e,t,n)=>t in e?Pd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ea=(e,t)=>{for(var n in t||(t={}))Sd.call(t,n)&&Oo(e,n,t[n]);if(Mo)for(var n of Mo(t))Ad.call(t,n)&&Oo(e,n,t[n]);return e},Ta=(e,t)=>xd(e,Rd(t));const Fd=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:n,isInDevelopmentMode:o,sortedContentTypesList:s,modifiedData:l,initialData:u}=(0,K.Z)(),c=(0,v.useNotification)(),{trackUsage:m}=(0,v.useTracking)(),[g,f]=(0,a.useState)(""),{onOpenModalCreateSchema:p,onOpenModalEditCategory:S}=(0,H.Z)(),R=Co()(Object.keys(t).map(V=>({name:V,title:V,isEditable:o,onClickEdit(ce,ge){ce.stopPropagation(),N?S(ge.name):q()},links:Co()(t[V].map(ce=>({name:ce.uid,to:`/plugins/${M.Z}/component-categories/${V}/${ce.uid}`,title:ce.schema.displayName})),ce=>ce.title)})),V=>V.title),N=!Object.keys(n).some(V=>n[V].isTemporary===!0)&&!Object.keys(e).some(V=>e[V].isTemporary===!0)&&Md()(l,u),z=()=>{N?(m("willCreateContentType"),p({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):q()},_=()=>{N?(m("willCreateSingleType"),p({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):q()},L=()=>{N?(m("willCreateComponent"),p({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):q()},q=()=>{c({type:"info",message:{id:`${(0,d.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},P=s.filter(V=>V.visible),ue=[{name:"models",title:{id:`${(0,d.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:o&&{id:`${(0,d.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:z},links:P.filter(V=>V.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:o&&{id:`${(0,d.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:_},links:P.filter(V=>V.kind==="singleType")},{name:"components",title:{id:`${(0,d.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:o&&{id:`${(0,d.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:L},links:R}],pe=V=>g?(0,Od.ZP)(V,et()(g),{keys:[ce=>et()(ce.title)]}):V;return{menu:(()=>ue.map(V=>V.links.some(ge=>!Ed()(ge.links))?Ta(Ea({},V),{links:V.links.map(ge=>Ta(Ea({},ge),{links:pe(ge.links)}))}):Ta(Ea({},V),{links:pe(V.links)})))(),searchValue:g,onSearchChange:f}},Zd=()=>{const{menu:e,searchValue:t,onSearchChange:n}=Fd(),{formatMessage:o}=(0,h.useIntl)();return a.createElement(cd.m,{ariaLabel:o({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},a.createElement(md.p,{searchable:!0,value:t,onClear:()=>n(""),onChange:s=>n(s.target.value),label:o({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:o({id:"global.search",defaultMessage:"Search"})}),a.createElement(pd.Z,null,e.map(s=>a.createElement(a.Fragment,{key:s.name},a.createElement(fd.D,{label:o({id:s.title.id,defaultMessage:s.title.defaultMessage}),collapsable:!0,badgeLabel:s.links.length.toString()},s.links.map(l=>l.links?a.createElement(ha,{key:l.name,label:Ee()(l.title)},l.links.map(u=>a.createElement(To.E,{as:y.NavLink,to:u.to,active:u.active,key:u.name,isSubSectionChild:!0},Ee()(o({id:u.name,defaultMessage:u.title}))))):a.createElement(To.E,{as:y.NavLink,to:l.to,active:l.active,key:l.name},Ee()(o({id:l.name,defaultMessage:l.title}))))),s.customLink&&a.createElement(Q.x,{paddingLeft:7},a.createElement(bd.A,{onClick:s.customLink.onClick,startIcon:a.createElement(Ze.default,null),marginTop:2},o({id:s.customLink.id,defaultMessage:s.customLink.defaultMessage})))))))},Po=(0,a.lazy)(()=>i.e(5905).then(i.bind(i,76761))),Nd=()=>{const{formatMessage:e}=(0,h.useIntl)(),t=e({id:`${M.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:n}=(0,v.useGuidedTour)(),o=(0,a.useRef)(n);return(0,a.useEffect)(()=>{o.current&&o.current("contentTypeBuilder")},[]),a.createElement(v.CheckPagePermissions,{permissions:U.Z.main},a.createElement(I.Helmet,{title:t}),a.createElement(ld,null,a.createElement(td,null,a.createElement(Y.A,{sideNav:a.createElement(Zd,null)},a.createElement(a.Suspense,{fallback:a.createElement(v.LoadingIndicatorPage,null)},a.createElement(y.Switch,null,a.createElement(y.Route,{path:`/plugins/${M.Z}/content-types/create-content-type`,component:Po}),a.createElement(y.Route,{path:`/plugins/${M.Z}/content-types/:uid`,component:Po}),a.createElement(y.Route,{path:`/plugins/${M.Z}/component-categories/:categoryUid`,component:ud})))))))}},5002:(te,ee,i)=>{"use strict";i.d(ee,{Z:()=>I});var a=i(96124);const I=h=>`${a.Z}.${h}`},89881:(te,ee,i)=>{var a=i(47816),y=i(99291),I=y(a);te.exports=I},23933:(te,ee,i)=>{var a=i(44239),y=i(37005),I="[object RegExp]";function h(v){return y(v)&&a(v)==I}te.exports=h},69199:(te,ee,i)=>{var a=i(89881),y=i(98612);function I(h,v){var Y=-1,U=y(h)?Array(h.length):[];return a(h,function(M,D,r){U[++Y]=v(M,D,r)}),U}te.exports=I},82689:(te,ee,i)=>{var a=i(29932),y=i(97786),I=i(67206),h=i(69199),v=i(71131),Y=i(7518),U=i(85022),M=i(6557),D=i(1469);function r(b,X,ne){X.length?X=a(X,function(J){return D(J)?function(ye){return y(ye,J.length===1?J[0]:J)}:J}):X=[M];var G=-1;X=a(X,Y(I));var H=h(b,function(J,ye,ie){var Fe=a(X,function(x){return x(J)});return{criteria:Fe,index:++G,value:J}});return v(H,function(J,ye){return U(J,ye,ne)})}te.exports=r},71131:te=>{function ee(i,a){var y=i.length;for(i.sort(a);y--;)i[y]=i[y].value;return i}te.exports=ee},26393:(te,ee,i)=>{var a=i(33448);function y(I,h){if(I!==h){var v=I!==void 0,Y=I===null,U=I===I,M=a(I),D=h!==void 0,r=h===null,b=h===h,X=a(h);if(!r&&!X&&!M&&I>h||M&&D&&b&&!r&&!X||Y&&D&&b||!v&&b||!U)return 1;if(!Y&&!M&&!X&&I<h||X&&v&&U&&!Y&&!M||r&&v&&U||!D&&U||!b)return-1}return 0}te.exports=y},85022:(te,ee,i)=>{var a=i(26393);function y(I,h,v){for(var Y=-1,U=I.criteria,M=h.criteria,D=U.length,r=v.length;++Y<D;){var b=a(U[Y],M[Y]);if(b){if(Y>=r)return b;var X=v[Y];return b*(X=="desc"?-1:1)}}return I.index-h.index}te.exports=y},99291:(te,ee,i)=>{var a=i(98612);function y(I,h){return function(v,Y){if(v==null)return v;if(!a(v))return I(v,Y);for(var U=v.length,M=h?U:-1,D=Object(v);(h?M--:++M<U)&&Y(D[M],M,D)!==!1;);return v}}te.exports=y},96347:(te,ee,i)=>{var a=i(23933),y=i(7518),I=i(31167),h=I&&I.isRegExp,v=h?y(h):a;te.exports=v},89734:(te,ee,i)=>{var a=i(21078),y=i(82689),I=i(5976),h=i(16612),v=I(function(Y,U){if(Y==null)return[];var M=U.length;return M>1&&h(Y,U[0],U[1])?U=[]:M>2&&h(U[0],U[1],U[2])&&(U=[U[0]]),y(Y,a(U,1),[])});te.exports=v},39138:(te,ee,i)=>{var a=i(80531),y=i(40180),I=i(62689),h=i(13218),v=i(96347),Y=i(88016),U=i(83140),M=i(40554),D=i(79833),r=30,b="...",X=/\w*$/;function ne(G,H){var J=r,ye=b;if(h(H)){var ie="separator"in H?H.separator:ie;J="length"in H?M(H.length):J,ye="omission"in H?a(H.omission):ye}G=D(G);var Fe=G.length;if(I(G)){var x=U(G);Fe=x.length}if(J>=Fe)return G;var d=J-Y(ye);if(d<1)return ye;var j=x?y(x,0,d).join(""):G.slice(0,d);if(ie===void 0)return j+ye;if(x&&(d+=j.length-d),v(ie)){if(G.slice(d).search(ie)){var re,k=j;for(ie.global||(ie=RegExp(ie.source,D(X.exec(ie))+"g")),ie.lastIndex=0;re=ie.exec(k);)var Qe=re.index;j=j.slice(0,Qe===void 0?d:Qe)}}else if(G.indexOf(a(ie),d)!=d){var _e=j.lastIndexOf(ie);_e>-1&&(j=j.slice(0,_e))}return j+ye}te.exports=ne},44908:(te,ee,i)=>{var a=i(45652);function y(I){return I&&I.length?a(I):[]}te.exports=y},2407:(te,ee,i)=>{"use strict";i.d(ee,{$:()=>ye,O:()=>Fe});var a=i(67294),y=i(45697),I=i(71893),h=i(16405),v=i(72735),Y=i(35961),U=i(46273),M=i(63237),D=Object.defineProperty,r=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,ne=(x,d,j)=>d in x?D(x,d,{enumerable:!0,configurable:!0,writable:!0,value:j}):x[d]=j,G=(x,d)=>{for(var j in d||(d={}))b.call(d,j)&&ne(x,j,d[j]);if(r)for(var j of r(d))X.call(d,j)&&ne(x,j,d[j]);return x},H=(x,d)=>{var j={};for(var re in x)b.call(x,re)&&d.indexOf(re)<0&&(j[re]=x[re]);if(x!=null&&r)for(var re of r(x))d.indexOf(re)<0&&X.call(x,re)&&(j[re]=x[re]);return j};const J=(0,I.default)(U.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:x})=>x.colors.neutral500};
    }
  }
  :last-of-type ${Y.x} {
    display: none;
  }
  :last-of-type ${v.Z} {
    color: ${({theme:x})=>x.colors.neutral800};
    font-weight: ${({theme:x})=>x.fontWeights.bold};
  }
`,ye=({children:x})=>a.createElement(J,{inline:!0,as:"li"},a.createElement(v.Z,{variant:"pi",textColor:"neutral600"},x),a.createElement(Y.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3},a.createElement(h.default,null)));ye.displayName="Crumb",ye.propTypes={children:y.node.isRequired};const ie=y.shape({type:y.oneOf([ye])}),Fe=x=>{var d=x,{children:j,label:re}=d,k=H(d,["children","label"]);return a.createElement(U.k,G({},k),a.createElement(M.T,null,re),a.createElement("ol",{"aria-hidden":!0},j))};Fe.displayName="Breadcrumbs",Fe.propTypes={children:y.oneOfType([y.arrayOf(ie),ie]).isRequired,label:y.string.isRequired}},31950:(te,ee,i)=>{"use strict";i.d(ee,{h:()=>$e,X:()=>fe});var a=i(67294),y=i(45697),I=i(12645),h=i(70968),v=i(41762),Y=i(70389),U=i(7801);const M={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},D={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function r(Z=[],K=null,oe=[]){const Re=String(K!=null?K:"").toLowerCase();return Re?Z.filter(Ee=>Ee.props.children.toString().toLowerCase().includes(Re)&&oe.indexOf(Ee)<0):Z}function b(Z,K){if(!K&&Z===U.y.DOWN)return M.Open;if(Z===U.y.DOWN)return M.Next;if(Z===U.y.UP)return M.Previous;if(Z===U.y.HOME)return M.First;if(Z===U.y.END)return M.Last;if(Z===U.y.ESCAPE)return M.Close;if(Z===U.y.ENTER)return M.CloseSelect;if(Z===U.y.BACKSPACE||Z===U.y.CLEAR||Z.length===1)return M.Type}function X(Z,K,oe){switch(oe){case M.First:return 0;case M.Last:return K;case M.Previous:return Math.max(0,Z-1);case M.Next:return Math.min(K,Z+1);default:return Z}}function ne(Z){(0,Y.Z)(Z,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:K,top:oe,left:Re})=>{K.scrollTop=oe,K.scrollLeft=Re})}var G=i(46273),H=i(81318),J=i(88533),ye=i(35961),ie=i(72735),Fe=i(88655),x=i(74020),d=i(90608);const j=({options:Z,activeOptionRef:K})=>((0,a.useEffect)(()=>{K.current&&ne(K.current)},[K]),Z);j.defaultProps={activeOptionRef:void 0},j.propTypes={options:y.array.isRequired};var re=i(54574),k=i(64777),Qe=i(63428),_e=i(96404),it=i(7681),ct=i(63237),pt=Object.defineProperty,et=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,se=Object.getOwnPropertySymbols,ft=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable,St=(Z,K,oe)=>K in Z?pt(Z,K,{enumerable:!0,configurable:!0,writable:!0,value:oe}):Z[K]=oe,It=(Z,K)=>{for(var oe in K||(K={}))ft.call(K,oe)&&St(Z,oe,K[oe]);if(se)for(var oe of se(K))Dt.call(K,oe)&&St(Z,oe,K[oe]);return Z},gt=(Z,K)=>et(Z,Q(K)),st=(Z,K)=>{var oe={};for(var Re in Z)ft.call(Z,Re)&&K.indexOf(Re)<0&&(oe[Re]=Z[Re]);if(Z!=null&&se)for(var Re of se(Z))K.indexOf(Re)<0&&Dt.call(Z,Re)&&(oe[Re]=Z[Re]);return oe};const $e=Z=>{var K=Z,{children:oe,clearLabel:Re,creatable:Ee,createMessage:At,disabled:Be,error:Ft,hasMoreItems:de,hint:yt,label:Ve,labelAction:vt,loading:tt,loadingMessage:Zt,noOptionsMessage:bt,onChange:Le,onClear:jt,onCreateOption:wt,onInputChange:lt,onLoadMore:Yt,placeholder:A,required:T,value:C}=K,Ie=st(K,["children","clearLabel","creatable","createMessage","disabled","error","hasMoreItems","hint","label","labelAction","loading","loadingMessage","noOptionsMessage","onChange","onClear","onCreateOption","onInputChange","onLoadMore","placeholder","required","value"]);const Jt=()=>{var le;return(le=oe.find(Te=>{var De;return((De=Te.props)==null?void 0:De.value.toLowerCase())===C.toLowerCase()}).props)==null?void 0:le.children},[Se,ht]=(0,a.useState)(0),[$t,xn]=(0,a.useState)(null),[Ke,rn]=(0,a.useState)(oe),[Ge,on]=(0,a.useState)(!1),[je,Nt]=(0,a.useState)(""),Et=(0,a.useRef)(),Bt=(0,a.useRef)(!1),Lt=(0,a.useRef)(),sn=(0,a.useRef)(),zt=(0,a.useRef)(),Ut=(0,a.useRef)(!0),Ze=(0,v.M)("combobox"),ln=`${Ze}-label`;if(!Ve&&!Ie["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,a.useEffect)(()=>{rn(r(oe,je))},[je,oe]),(0,a.useEffect)(()=>{Ge&&Et.current&&ne(Et.current)},[Se,Ge]),(0,a.useLayoutEffect)(()=>{Ut.current&&(Ut.current=!1)},[C]);const Rn=Ge?`${Ze}-${Se}`:"",dn=()=>{Le(null),Nt("")},Za=le=>{lt&&lt(le);const Te=Lt.current.value;rn(r(oe,Te)),ht(0),xn(null),je!==Te&&Nt(Te),Ge||dt(!0,!1)},Sn=le=>{const{key:Te}=le,De=Ee&&je?Ke.length:Ke.length-1,Tt=b(Te,Ge);switch(C&&!je&&Te===U.y.BACKSPACE&&dn(),Tt){case M.Next:{if(Se===De){mt(0);break}mt(X(Se,De,Tt));break}case M.Previous:{if(Se===0){mt(De);break}mt(X(Se,De,Tt));break}case M.Last:case M.First:{if(Se===De){mt(0);break}mt(X(Se,De,Tt));break}case M.CloseSelect:le.preventDefault(),qt(Se);break;case M.Close:le.preventDefault(),dt(!1);break;case M.Open:dt(!0);break}},un=le=>{if(le.preventDefault(),C&&!Bt.current&&Nt(""),Bt.current){Bt.current=!1;return}dt(!1,!1)},mt=le=>{ht(le)},Na=le=>{mt(le),qt(le)},cn=()=>{Bt.current=!0},qt=le=>{const Te=Ke[le];if(Nt(""),Te){Le(Te.props.value),dt(!1);return}Ee&&(wt(je),dt(!1))},dt=(le,Te=!0)=>{on(le),Te&&Lt.current.focus()},An=a.Children.toArray(Ke).map((le,Te)=>{const De=Se===Te;return(0,a.cloneElement)(le,{id:`${Ze}-${Te}`,"aria-selected":$t===Te,"aria-posinset":Te+1,"aria-setsize":a.Children.toArray(Ke).length,ref(Tt){De&&(Et.current=Tt)},onClick:()=>Na(Te),onMouseDown:cn,isSelected:De})}),Fn=()=>{Lt.current.focus(),jt&&jt(),dn()},Zn=()=>{Lt.current.focus(),dt(!0)},Nn=()=>{const le=Ke.findIndex(Te=>{var De;return((De=Te.props)==null?void 0:De.children)===je});return je&&le===-1},Ln=le=>{le.preventDefault(),dt(le,!0)};return a.createElement(re.g,{hint:yt,error:Ft,id:Ze,required:T},a.createElement(ct.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},C),a.createElement(it.K,{spacing:Ve||yt||Ft?1:0},Ve&&a.createElement(k.Q,{action:vt},Ve),a.createElement(x.d8,{ref:sn,$disabled:Be,hasError:Ft},a.createElement(x.fv,{wrap:"wrap"},!je&&C&&a.createElement(x.K7,{id:`${Ze}-selected-value`},a.createElement(ie.Z,null,Jt())),a.createElement(x.II,{"aria-activedescendant":Rn,"aria-autocomplete":"list","aria-controls":`${Ze}-listbox`,"aria-disabled":Be,"aria-expanded":Ge,"aria-haspopup":"listbox","aria-labelledby":Ve?ln:void 0,autoComplete:"off",autoCorrect:"off",id:Ze,onBlur:Be?void 0:un,onClick:Be?void 0:Ln,onInput:Be?void 0:Za,onKeyDown:Be?void 0:Sn,placeholder:C?"":A,readOnly:Be,ref:Lt,required:T,role:"combobox",spellCheck:"off",type:"text",value:je})),a.createElement(G.k,null,(C||je)&&a.createElement(H.zb,{id:`${Ze}-clear`,"aria-label":Re,disabled:Be,paddingLeft:3,as:"button",onClick:Fn,type:"button"},a.createElement(h.default,null)),a.createElement(H.AV,{disabled:Be,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:Zn,tabIndex:-1,type:"button"},a.createElement(I.default,null)))),a.createElement(Qe.J,null),a.createElement(_e.c,null)),Ge&&a.createElement(J.J,{id:`${Ze}-popover`,source:sn,spacing:4,fullWidth:!0,intersectionId:`${Ze}-listbox-popover-intersection`,onReachEnd:de&&!tt?Yt:void 0},a.createElement("div",{role:"listbox",ref:zt,id:`${Ze}-listbox`,"aria-labelledby":Ve?ln:void 0},(Boolean(Ke.length)||Ee)&&a.createElement(a.Fragment,null,a.createElement(j,{activeOptionRef:Et,options:An}),Nn()&&Ee&&a.createElement(d.O,{isSelected:Se===Ke.length,ref:le=>{Se===Ke.length&&(Et.current=le)},onMouseDown:cn,onClick:()=>qt(),taindex:0},At(je))),!Ke.length&&!Ee&&!tt&&a.createElement(ye.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:Et},a.createElement(ie.Z,{textColor:"neutral800"},bt(je))),tt&&a.createElement(G.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},a.createElement(Fe.a,{small:!0},Zt)))))},fe=Z=>a.createElement($e,gt(It({},Z),{creatable:!0}));$e.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:Z=>`Create "${Z}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},fe.defaultProps=$e.defaultProps,$e.propTypes={"aria-label":y.string,children:y.oneOfType([y.arrayOf(y.node),y.node]),clearLabel:y.string,creatable:y.bool,createMessage:y.func,disabled:y.bool,error:y.string,hasMoreItems:y.bool,hint:y.oneOfType([y.string,y.node,y.arrayOf(y.node)]),label:y.string,labelAction:y.element,loading:y.bool,loadingMessage:y.string,noOptionsMessage:y.func,onChange:y.func.isRequired,onClear:y.func,onCreateOption:y.func,onInputChange:y.func,onLoadMore:y.func,placeholder:y.string,value:y.string},fe.propTypes=gt(It({},$e.propTypes),{onCreateOption:y.func.isRequired})},90608:(te,ee,i)=>{"use strict";i.d(ee,{O:()=>X});var a=i(67294),y=i(45697),I=i(72735),h=i(74020),v=Object.defineProperty,Y=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,D=(ne,G,H)=>G in ne?v(ne,G,{enumerable:!0,configurable:!0,writable:!0,value:H}):ne[G]=H,r=(ne,G)=>{for(var H in G||(G={}))U.call(G,H)&&D(ne,H,G[H]);if(Y)for(var H of Y(G))M.call(G,H)&&D(ne,H,G[H]);return ne},b=(ne,G)=>{var H={};for(var J in ne)U.call(ne,J)&&G.indexOf(J)<0&&(H[J]=ne[J]);if(ne!=null&&Y)for(var J of Y(ne))G.indexOf(J)<0&&M.call(ne,J)&&(H[J]=ne[J]);return H};const X=(0,a.forwardRef)((ne,G)=>{var H=ne,{isSelected:J,children:ye}=H,ie=b(H,["isSelected","children"]);return a.createElement(h.Zq,r({hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:J,ref:G},ie),a.createElement(I.Z,{textColor:J?"primary600":"neutral800",fontWeight:J?"bold":null},ye))});X.defaultProps={isSelected:!1},X.propTypes={children:y.oneOfType([y.string,y.number]).isRequired,isSelected:y.bool},X.displayName="ComboboxOption"},74020:(te,ee,i)=>{"use strict";i.d(ee,{II:()=>M,K7:()=>Y,Zq:()=>D,d8:()=>v,fv:()=>U});var a=i(71893),y=i(35961),I=i(46273),h=i(15585);const v=(0,a.default)(I.k)`
  position: relative;
  border: 1px solid ${({theme:r,hasError:b})=>b?r.colors.danger600:r.colors.neutral200};
  padding-right: ${({theme:r})=>r.spaces[3]};
  padding-left: ${({theme:r})=>r.spaces[3]};
  border-radius: ${({theme:r})=>r.borderRadius};
  background: ${({theme:r})=>r.colors.neutral0};

  ${({theme:r,$disabled:b})=>b?`
    color: ${r.colors.neutral600};
    background: ${r.colors.neutral150};
  `:void 0}

  ${(0,h.k3)()}
`,Y=a.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,U=(0,a.default)(I.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,M=a.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:r})=>r.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,D=(0,a.default)(y.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:r,theme:b})=>r&&`background: ${b.colors.primary100};`}

  &:hover {
    background: ${({theme:r})=>r.colors.primary100};
  }
`},39785:(te,ee,i)=>{"use strict";i.d(ee,{A:()=>Fe});var a=i(67294),y=i(45697),I=i(71893),h=i(86647),v=i(35961),Y=i(72735),U=i(46273),M=i(15585),D=Object.defineProperty,r=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,ne=(x,d,j)=>d in x?D(x,d,{enumerable:!0,configurable:!0,writable:!0,value:j}):x[d]=j,G=(x,d)=>{for(var j in d||(d={}))b.call(d,j)&&ne(x,j,d[j]);if(r)for(var j of r(d))X.call(d,j)&&ne(x,j,d[j]);return x},H=(x,d)=>{var j={};for(var re in x)b.call(x,re)&&d.indexOf(re)<0&&(j[re]=x[re]);if(x!=null&&r)for(var re of r(x))d.indexOf(re)<0&&X.call(x,re)&&(j[re]=x[re]);return j};const J=I.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,ye=I.default.div`
  animation: ${J} 2s infinite linear;
  will-change: transform;
`,ie=(0,I.default)(U.k)`
  background: transparent;
  border: none;

  &[aria-disabled='true'] {
    pointer-events: none;
    svg path {
      fill: ${({theme:x})=>x.colors.neutral600};
    }
  }

  svg {
    display: flex;
    font-size: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:x})=>x.colors.primary600};
  }

  ${M.BF}
`,Fe=a.forwardRef((x,d)=>{var j=x,{children:re,startIcon:k,endIcon:Qe,onClick:_e,disabled:it,loading:ct}=j,pt=H(j,["children","startIcon","endIcon","onClick","disabled","loading"]);const et=_e&&!it?_e:void 0,Q=it||ct;return a.createElement(ie,G({ref:d,"aria-disabled":Q,onClick:et,as:"button",type:"button"},pt),(k||ct)&&a.createElement(v.x,{as:"span",paddingRight:2,"aria-hidden":!0},ct?a.createElement(ye,null,a.createElement(h.default,null)):k),a.createElement(Y.Z,{variant:"pi",textColor:Q?"neutral600":"primary600"},re),Qe&&a.createElement(v.x,{as:"span",paddingLeft:2,"aria-hidden":!0},Qe))});Fe.displayName="TextButton",Fe.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,loading:!1,onClick:void 0},Fe.propTypes={children:y.node.isRequired,disabled:y.bool,endIcon:y.element,loading:y.bool,onClick:y.func,startIcon:y.element}}}]);
